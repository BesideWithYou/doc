<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据库基础 | PuffMeow</title>
    <meta name="description" content="PuffMeow">
    <link rel="preload stylesheet" href="/doc/assets/style.116269a5.css" as="style">
    
    <script type="module" src="/doc/assets/app.f3dc9306.js"></script>
    <link rel="preload" href="/doc/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/doc/assets/chunks/framework.18ed7b43.js">
    <link rel="modulepreload" href="/doc/assets/chunks/theme.b5055fca.js">
    <link rel="modulepreload" href="/doc/assets/backend_MySQL数据库_1.基础.md.a32b57bc.lean.js">
    <link rel="shortcut icon" href="https://i.niupic.com/images/2023/01/06/aeYt.png" type="image/x-icon">
    <script>if(!location.hostname.includes("localhost")){var _hmt=_hmt||[];(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?4acff6ef41814431b9fd47af4b091072";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()}</script>
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-2b4337fe><!--[--><!--]--><!--[--><span tabindex="-1" data-v-3a8bcc99></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-3a8bcc99> Skip to content </a><!--]--><!----><header class="VPNav" data-v-2b4337fe data-v-1db42626><div class="VPNavBar has-sidebar" data-v-1db42626 data-v-aefe4dfa><div class="container" data-v-aefe4dfa><div class="title" data-v-aefe4dfa><div class="VPNavBarTitle has-sidebar" data-v-aefe4dfa data-v-317199db><a class="title" href="/doc/" data-v-317199db><!--[--><!--]--><!--[--><img class="VPImage logo" src="https://i.niupic.com/images/2023/01/06/aeYt.png" alt data-v-b70ac11b><!--]--><!--[-->学习使我快乐<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-aefe4dfa><div class="curtain" data-v-aefe4dfa></div><div class="content-body" data-v-aefe4dfa><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-aefe4dfa><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-aefe4dfa data-v-f5294dfa><span id="main-nav-aria-label" class="visually-hidden" data-v-f5294dfa>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/doc/frontend/" tabindex="0" data-v-f5294dfa data-v-251fb868><!--[--><span data-v-251fb868>前端</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/doc/backend/" tabindex="0" data-v-f5294dfa data-v-251fb868><!--[--><span data-v-251fb868>服务端</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/doc/rust/" tabindex="0" data-v-f5294dfa data-v-251fb868><!--[--><span data-v-251fb868>Rust</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f5294dfa data-v-75786f83><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-75786f83><span class="text" data-v-75786f83><!----><span data-v-75786f83>计算机基础</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-75786f83><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-75786f83><div class="VPMenu" data-v-75786f83 data-v-392e170f><div class="items" data-v-392e170f><!--[--><!--[--><div class="VPMenuLink" data-v-392e170f data-v-07d1c592><a class="VPLink link" href="/doc/algorithm/" data-v-07d1c592><!--[-->数据结构/算法<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-392e170f data-v-07d1c592><a class="VPLink link" href="/doc/network/" data-v-07d1c592><!--[-->计算机网络<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-392e170f data-v-07d1c592><a class="VPLink link" href="/doc/system/" data-v-07d1c592><!--[-->操作系统<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-392e170f data-v-07d1c592><a class="VPLink link" href="/doc/tools/" data-v-07d1c592><!--[-->开发工具<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/doc/note/" tabindex="0" data-v-f5294dfa data-v-251fb868><!--[--><span data-v-251fb868>杂记</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-aefe4dfa data-v-a94721ee><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-a94721ee data-v-d88099fb data-v-d09803b3><span class="check" data-v-d09803b3><span class="icon" data-v-d09803b3><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-d88099fb><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-d88099fb><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-aefe4dfa data-v-4dd45ab2 data-v-7e27b5e5><!--[--><a class="VPSocialLink no-icon" href="https://github.com/PuffMeow/doc" aria-label="github" target="_blank" rel="noopener" data-v-7e27b5e5 data-v-8d9993b5><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-aefe4dfa data-v-d936ea12 data-v-75786f83><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-75786f83><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-75786f83><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-75786f83><div class="VPMenu" data-v-75786f83 data-v-392e170f><!----><!--[--><!--[--><!----><div class="group" data-v-d936ea12><div class="item appearance" data-v-d936ea12><p class="label" data-v-d936ea12>Appearance</p><div class="appearance-action" data-v-d936ea12><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-d936ea12 data-v-d88099fb data-v-d09803b3><span class="check" data-v-d09803b3><span class="icon" data-v-d09803b3><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-d88099fb><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-d88099fb><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-d936ea12><div class="item social-links" data-v-d936ea12><div class="VPSocialLinks social-links-list" data-v-d936ea12 data-v-7e27b5e5><!--[--><a class="VPSocialLink no-icon" href="https://github.com/PuffMeow/doc" aria-label="github" target="_blank" rel="noopener" data-v-7e27b5e5 data-v-8d9993b5><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-aefe4dfa data-v-70f58464><span class="container" data-v-70f58464><span class="top" data-v-70f58464></span><span class="middle" data-v-70f58464></span><span class="bottom" data-v-70f58464></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-2b4337fe data-v-6567328e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-6567328e><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-6567328e><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-6567328e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-6567328e data-v-01f874a4><button data-v-01f874a4>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-2b4337fe data-v-dbf2470f><div class="curtain" data-v-dbf2470f></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-dbf2470f><span class="visually-hidden" id="sidebar-aria-label" data-v-dbf2470f> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-dbf2470f><section class="VPSidebarItem level-0" data-v-dbf2470f data-v-183d85e2><div class="item" role="button" tabindex="0" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><h2 class="text" data-v-183d85e2>Go</h2><!----></div><div class="items" data-v-183d85e2><!--[--><div class="VPSidebarItem level-1 is-link" data-v-183d85e2 data-v-183d85e2><div class="item" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><a class="VPLink link link" href="/doc/backend/Go/1.%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85.html" data-v-183d85e2><!--[--><p class="text" data-v-183d85e2>1.环境安装</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-183d85e2 data-v-183d85e2><div class="item" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><a class="VPLink link link" href="/doc/backend/Go/99.%E5%BE%AE%E6%9C%8D%E5%8A%A1.html" data-v-183d85e2><!--[--><p class="text" data-v-183d85e2>99.微服务</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-dbf2470f><section class="VPSidebarItem level-0" data-v-dbf2470f data-v-183d85e2><div class="item" role="button" tabindex="0" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><h2 class="text" data-v-183d85e2>Java</h2><!----></div><div class="items" data-v-183d85e2><!--[--><div class="VPSidebarItem level-1 is-link" data-v-183d85e2 data-v-183d85e2><div class="item" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><a class="VPLink link link" href="/doc/backend/Java/1.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html" data-v-183d85e2><!--[--><p class="text" data-v-183d85e2>1.面向对象</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-183d85e2 data-v-183d85e2><div class="item" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><a class="VPLink link link" href="/doc/backend/Java/2.%E5%B8%B8%E7%94%A8API.html" data-v-183d85e2><!--[--><p class="text" data-v-183d85e2>2.常用API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-183d85e2 data-v-183d85e2><div class="item" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><a class="VPLink link link" href="/doc/backend/Java/999.%E7%BB%83%E4%B9%A0.html" data-v-183d85e2><!--[--><p class="text" data-v-183d85e2>999.练习</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-dbf2470f><section class="VPSidebarItem level-0 has-active" data-v-dbf2470f data-v-183d85e2><div class="item" role="button" tabindex="0" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><h2 class="text" data-v-183d85e2>MySQL数据库</h2><!----></div><div class="items" data-v-183d85e2><!--[--><div class="VPSidebarItem level-1 is-link" data-v-183d85e2 data-v-183d85e2><div class="item" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><a class="VPLink link link" href="/doc/backend/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/1.%E5%9F%BA%E7%A1%80.html" data-v-183d85e2><!--[--><p class="text" data-v-183d85e2>1.基础</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-183d85e2 data-v-183d85e2><div class="item" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><a class="VPLink link link" href="/doc/backend/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/2.%E8%BF%9B%E9%98%B6.html" data-v-183d85e2><!--[--><p class="text" data-v-183d85e2>2.进阶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-183d85e2 data-v-183d85e2><div class="item" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><a class="VPLink link link" href="/doc/backend/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/3.SQL%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.html" data-v-183d85e2><!--[--><p class="text" data-v-183d85e2>3.SQL必知必会读书笔记</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-dbf2470f><section class="VPSidebarItem level-0" data-v-dbf2470f data-v-183d85e2><div class="item" role="button" tabindex="0" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><h2 class="text" data-v-183d85e2>Node.js</h2><!----></div><div class="items" data-v-183d85e2><!--[--><div class="VPSidebarItem level-1 is-link" data-v-183d85e2 data-v-183d85e2><div class="item" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><a class="VPLink link link" href="/doc/backend/Node.js/100.Express%E5%8D%9A%E5%AE%A2%E5%AE%9E%E6%88%98.html" data-v-183d85e2><!--[--><p class="text" data-v-183d85e2>100.Express博客实战</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-183d85e2 data-v-183d85e2><div class="item" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><a class="VPLink link link" href="/doc/backend/Node.js/BFFDemo.html" data-v-183d85e2><!--[--><p class="text" data-v-183d85e2>BFFDemo</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-183d85e2 data-v-183d85e2><div class="item" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><a class="VPLink link link" href="/doc/backend/Node.js/Nest%E5%AE%9E%E6%88%98%E4%B8%80.html" data-v-183d85e2><!--[--><p class="text" data-v-183d85e2>Nest实战一</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-183d85e2 data-v-183d85e2><div class="item" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><a class="VPLink link link" href="/doc/backend/Node.js/%E6%83%85%E4%BE%A3%E5%A4%B4%E5%83%8F%E7%88%AC%E8%99%AB.html" data-v-183d85e2><!--[--><p class="text" data-v-183d85e2>情侣头像爬虫</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-dbf2470f><section class="VPSidebarItem level-0" data-v-dbf2470f data-v-183d85e2><div class="item" role="button" tabindex="0" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><h2 class="text" data-v-183d85e2>中间件</h2><!----></div><div class="items" data-v-183d85e2><!--[--><div class="VPSidebarItem level-1 is-link" data-v-183d85e2 data-v-183d85e2><div class="item" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><a class="VPLink link link" href="/doc/backend/%E4%B8%AD%E9%97%B4%E4%BB%B6/Redis.html" data-v-183d85e2><!--[--><p class="text" data-v-183d85e2>Redis</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-dbf2470f><section class="VPSidebarItem level-0" data-v-dbf2470f data-v-183d85e2><div class="item" role="button" tabindex="0" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><h2 class="text" data-v-183d85e2>应用部署</h2><!----></div><div class="items" data-v-183d85e2><!--[--><div class="VPSidebarItem level-1 is-link" data-v-183d85e2 data-v-183d85e2><div class="item" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><a class="VPLink link link" href="/doc/backend/%E5%BA%94%E7%94%A8%E9%83%A8%E7%BD%B2/1.%E4%BC%A0%E7%BB%9F%E9%83%A8%E7%BD%B2.html" data-v-183d85e2><!--[--><p class="text" data-v-183d85e2>1.传统部署</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-183d85e2 data-v-183d85e2><div class="item" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><a class="VPLink link link" href="/doc/backend/%E5%BA%94%E7%94%A8%E9%83%A8%E7%BD%B2/2.docker%E9%83%A8%E7%BD%B2.html" data-v-183d85e2><!--[--><p class="text" data-v-183d85e2>2.docker部署</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-dbf2470f><section class="VPSidebarItem level-0" data-v-dbf2470f data-v-183d85e2><div class="item" role="button" tabindex="0" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><h2 class="text" data-v-183d85e2>微服务</h2><!----></div><div class="items" data-v-183d85e2><!--[--><div class="VPSidebarItem level-1 is-link" data-v-183d85e2 data-v-183d85e2><div class="item" data-v-183d85e2><div class="indicator" data-v-183d85e2></div><a class="VPLink link link" href="/doc/backend/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%85%A5%E9%97%A8.html" data-v-183d85e2><!--[--><p class="text" data-v-183d85e2>微服务入门</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-2b4337fe data-v-792b5371><div class="VPDoc has-sidebar has-aside" data-v-792b5371 data-v-e0de392c><!--[--><!--]--><div class="container" data-v-e0de392c><div class="aside" data-v-e0de392c><div class="aside-curtain" data-v-e0de392c></div><div class="aside-container" data-v-e0de392c><div class="aside-content" data-v-e0de392c><div class="VPDocAside" data-v-e0de392c data-v-1f2d8909><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-1f2d8909 data-v-37c843af><div class="content" data-v-37c843af><div class="outline-marker" data-v-37c843af></div><div class="outline-title" role="heading" data-v-37c843af>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-37c843af><span class="visually-hidden" id="doc-outline-aria-label" data-v-37c843af> Table of Contents for current page </span><ul class="root" data-v-37c843af data-v-e06d9e4c><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-1f2d8909></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e0de392c><div class="content-container" data-v-e0de392c><!--[--><!--]--><!----><main class="main" data-v-e0de392c><div style="position:relative;" class="vp-doc _doc_backend_MySQL%E6%95%B0%E6%8D%AE%E5%BA%93_1_%E5%9F%BA%E7%A1%80" data-v-e0de392c><div><h2 id="数据模型" tabindex="-1">数据模型 <a class="header-anchor" href="#数据模型" aria-label="Permalink to &quot;数据模型&quot;">​</a></h2><p>概念：由多张相互连接的二维表组成的数据库</p><p>特点：使用表存储数据，格式统一，方便维护，使用 SQL 语言操作，标准统一。</p><h2 id="通用语法" tabindex="-1">通用语法 <a class="header-anchor" href="#通用语法" aria-label="Permalink to &quot;通用语法&quot;">​</a></h2><p>单行注释： -- 注释内容 或 # 注释内容（MySQL 独有）</p><p>多行注释： /_ 注释内容 _/</p><h2 id="sql-分类" tabindex="-1">SQL 分类 <a class="header-anchor" href="#sql-分类" aria-label="Permalink to &quot;SQL 分类&quot;">​</a></h2><p>DDL Data Definition Language 定义数据库对象</p><p>DML Data Manipulation Language 对数据进行增删改查</p><p>DQL Data Query Language 查询数据库中表的记录</p><p>DCL Data Control Language 创建/控制数据库访问权限</p><h2 id="ddl-定义数据库对象" tabindex="-1">DDL 定义数据库对象 <a class="header-anchor" href="#ddl-定义数据库对象" aria-label="Permalink to &quot;DDL 定义数据库对象&quot;">​</a></h2><h3 id="库操作" tabindex="-1">库操作 <a class="header-anchor" href="#库操作" aria-label="Permalink to &quot;库操作&quot;">​</a></h3><h4 id="查询所有数据库" tabindex="-1">查询所有数据库 <a class="header-anchor" href="#查询所有数据库" aria-label="Permalink to &quot;查询所有数据库&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">SHOW databases;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">SHOW databases;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="查询当前数据库" tabindex="-1">查询当前数据库 <a class="header-anchor" href="#查询当前数据库" aria-label="Permalink to &quot;查询当前数据库&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">SELECT DATABASE();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">SELECT DATABASE();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="创建数据库" tabindex="-1">创建数据库 <a class="header-anchor" href="#创建数据库" aria-label="Permalink to &quot;创建数据库&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">CREATE DATABASE [if not exists] 数据库名 [default charset 字符集] [collate 排序规则];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">CREATE DATABASE [if not exists] 数据库名 [default charset 字符集] [collate 排序规则];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="删除数据库" tabindex="-1">删除数据库 <a class="header-anchor" href="#删除数据库" aria-label="Permalink to &quot;删除数据库&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">DROP DATABASE [if exists] 数据库名;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">DROP DATABASE [if exists] 数据库名;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="使用数据库" tabindex="-1">使用数据库 <a class="header-anchor" href="#使用数据库" aria-label="Permalink to &quot;使用数据库&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">use 数据库名;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">use 数据库名;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="表操作" tabindex="-1">表操作 <a class="header-anchor" href="#表操作" aria-label="Permalink to &quot;表操作&quot;">​</a></h3><h4 id="查询当前库所有表" tabindex="-1">查询当前库所有表 <a class="header-anchor" href="#查询当前库所有表" aria-label="Permalink to &quot;查询当前库所有表&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">SHOW TABLES;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">SHOW TABLES;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="查询表结构" tabindex="-1">查询表结构 <a class="header-anchor" href="#查询表结构" aria-label="Permalink to &quot;查询表结构&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">DESC 表名;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">DESC 表名;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="查询指定表的建表语句" tabindex="-1">查询指定表的建表语句 <a class="header-anchor" href="#查询指定表的建表语句" aria-label="Permalink to &quot;查询指定表的建表语句&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">SHOW CREATE TABLE 表名;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">SHOW CREATE TABLE 表名;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="创建表" tabindex="-1">创建表 <a class="header-anchor" href="#创建表" aria-label="Permalink to &quot;创建表&quot;">​</a></h4><p>关键字可全小写，也可全大写</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">表名</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  字段1 字段1类型 [COMMENT 字段1注释],</span></span>
<span class="line"><span style="color:#E1E4E8;">  字段2 字段2类型 [COMMENT 字段2注释],</span></span>
<span class="line"><span style="color:#E1E4E8;">  字段3 字段3类型 [COMMENT 字段3注释],</span></span>
<span class="line"><span style="color:#E1E4E8;">  ...</span></span>
<span class="line"><span style="color:#E1E4E8;">)[COMMENT 表注释];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">表名</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  字段1 字段1类型 [COMMENT 字段1注释],</span></span>
<span class="line"><span style="color:#24292E;">  字段2 字段2类型 [COMMENT 字段2注释],</span></span>
<span class="line"><span style="color:#24292E;">  字段3 字段3类型 [COMMENT 字段3注释],</span></span>
<span class="line"><span style="color:#24292E;">  ...</span></span>
<span class="line"><span style="color:#24292E;">)[COMMENT 表注释];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="数据类型" tabindex="-1">数据类型 <a class="header-anchor" href="#数据类型" aria-label="Permalink to &quot;数据类型&quot;">​</a></h3><h4 id="数值类型" tabindex="-1">数值类型 <a class="header-anchor" href="#数值类型" aria-label="Permalink to &quot;数值类型&quot;">​</a></h4><p>分为有符号 SIGNED 和 无符号 UNSIGNED，</p><p>描述年龄时：age TINYINT UNSIGNED</p><p>描述分数时： score double(4, 1)</p><table><thead><tr><th>类型</th><th>大小</th></tr></thead><tbody><tr><td>TINYINT</td><td>1 byte</td></tr><tr><td>SMALLINT</td><td>2 bytes</td></tr><tr><td>MEDIUMINT</td><td>3 bytes</td></tr><tr><td>INT</td><td>4 bytes</td></tr><tr><td>BIGINT</td><td>8 bytes</td></tr><tr><td>FLOAT</td><td>4 bytes</td></tr><tr><td>DOUBLE</td><td>8 bytes</td></tr><tr><td>DECIMAL</td><td></td></tr></tbody></table><h4 id="字符串类型" tabindex="-1">字符串类型 <a class="header-anchor" href="#字符串类型" aria-label="Permalink to &quot;字符串类型&quot;">​</a></h4><p>char 和 varchar 最常用</p><table><thead><tr><th>类型</th><th>大小</th></tr></thead><tbody><tr><td>CHAR</td><td>0-255 bytes 定长字符串</td></tr><tr><td>VARCHAR</td><td>0-65535 bytes 变长字符串</td></tr><tr><td>TINYBLOB</td><td>0-255 bytes 二进制</td></tr><tr><td>TINYTEXT</td><td>0-255 bytes 短文本字符串</td></tr><tr><td>BLOB</td><td>0-65535 bytes 二进制长文本</td></tr><tr><td>TEXT</td><td>0-65535 bytes</td></tr><tr><td>MEDUMBLOB</td><td>0-16777215 bytes</td></tr><tr><td>MEDIUMTEXT</td><td>0-16777215 bytes</td></tr><tr><td>LONGBLOB</td><td>0-4294967295 bytes</td></tr><tr><td>LONGTEXT</td><td>0-4294967295 bytes</td></tr></tbody></table><h4 id="日期类型" tabindex="-1">日期类型 <a class="header-anchor" href="#日期类型" aria-label="Permalink to &quot;日期类型&quot;">​</a></h4><table><thead><tr><th>类型</th><th>大小</th><th>范围</th><th>格式</th></tr></thead><tbody><tr><td>DATE</td><td>3</td><td>1000-01-01 至 9999-12-31</td><td>YYYY-MM-DD</td></tr><tr><td>TIME</td><td>3</td><td>-838:59:59 至 838:59:59</td><td>HH:MM:SS</td></tr><tr><td>YEAR</td><td>1</td><td>1901 至 2155</td><td>YYYY</td></tr><tr><td>DATETIME</td><td>8</td><td>1000-01-01 00:00:00 至 9999-12-31 23：59：59</td><td>YYYY-MM-DD HH:MM:SS</td></tr><tr><td>TIMESTAMP</td><td>4</td><td>1970-01-01 00:00:01 至 2038-01-19 03:14:07</td><td>YYYY-MM-DD HH:MM:SS</td></tr></tbody></table><h4 id="案例-创建员工表" tabindex="-1">案例-创建员工表 <a class="header-anchor" href="#案例-创建员工表" aria-label="Permalink to &quot;案例-创建员工表&quot;">​</a></h4><p>1.编号（纯数字）</p><p>2.员工工号（字符串，不超过 10 位）</p><p>3.员工名字（字符串，不超过 10 位）</p><p>4.性别（男/女）</p><p>5.年龄</p><p>6.身份证号</p><p>7.入职时间（年月日）</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">employer</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">  id </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> comment </span><span style="color:#9ECBFF;">&#39;编号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  workno </span><span style="color:#F97583;">varchar</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">) comment </span><span style="color:#9ECBFF;">&#39;工号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">varchar</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">) comment </span><span style="color:#9ECBFF;">&#39;姓名&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  gender </span><span style="color:#F97583;">char</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">) comment </span><span style="color:#9ECBFF;">&#39;性别&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  age </span><span style="color:#F97583;">tinyint</span><span style="color:#E1E4E8;"> unsigned comment </span><span style="color:#9ECBFF;">&#39;年龄&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  idcard </span><span style="color:#F97583;">char</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">18</span><span style="color:#E1E4E8;">) comment </span><span style="color:#9ECBFF;">&#39;身份证号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  entry_date </span><span style="color:#F97583;">date</span><span style="color:#E1E4E8;"> comment </span><span style="color:#9ECBFF;">&#39;入职时间&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">) comment </span><span style="color:#9ECBFF;">&#39;员工表&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">employer</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">  id </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> comment </span><span style="color:#032F62;">&#39;编号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  workno </span><span style="color:#D73A49;">varchar</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">) comment </span><span style="color:#032F62;">&#39;工号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">varchar</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">) comment </span><span style="color:#032F62;">&#39;姓名&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  gender </span><span style="color:#D73A49;">char</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) comment </span><span style="color:#032F62;">&#39;性别&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  age </span><span style="color:#D73A49;">tinyint</span><span style="color:#24292E;"> unsigned comment </span><span style="color:#032F62;">&#39;年龄&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  idcard </span><span style="color:#D73A49;">char</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">18</span><span style="color:#24292E;">) comment </span><span style="color:#032F62;">&#39;身份证号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  entry_date </span><span style="color:#D73A49;">date</span><span style="color:#24292E;"> comment </span><span style="color:#032F62;">&#39;入职时间&#39;</span></span>
<span class="line"><span style="color:#24292E;">) comment </span><span style="color:#032F62;">&#39;员工表&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="修改表" tabindex="-1">修改表 <a class="header-anchor" href="#修改表" aria-label="Permalink to &quot;修改表&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">ALTER TABLE 表名 ADD 字段名 类型(长度) [COMMENT 注释] [约束];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">ALTER TABLE 表名 ADD 字段名 类型(长度) [COMMENT 注释] [约束];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="案例-为员工表增加一个新字段-nickname" tabindex="-1">案例-为员工表增加一个新字段 nickname <a class="header-anchor" href="#案例-为员工表增加一个新字段-nickname" aria-label="Permalink to &quot;案例-为员工表增加一个新字段 nickname&quot;">​</a></h3><p>类型为 varchar(20)</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">alter</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> employer </span><span style="color:#F97583;">add</span><span style="color:#E1E4E8;"> nickname </span><span style="color:#F97583;">varchar</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">) comment </span><span style="color:#9ECBFF;">&#39;昵称&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">alter</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> employer </span><span style="color:#D73A49;">add</span><span style="color:#24292E;"> nickname </span><span style="color:#D73A49;">varchar</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">) comment </span><span style="color:#032F62;">&#39;昵称&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="修改数据类型" tabindex="-1">修改数据类型 <a class="header-anchor" href="#修改数据类型" aria-label="Permalink to &quot;修改数据类型&quot;">​</a></h3><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> 表名 M0DIFY 字段名 新数据类型(长度);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> 表名 M0DIFY 字段名 新数据类型(长度);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="修改字段名和字段类型" tabindex="-1">修改字段名和字段类型 <a class="header-anchor" href="#修改字段名和字段类型" aria-label="Permalink to &quot;修改字段名和字段类型&quot;">​</a></h3><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> 表名 CHANGE 旧字段名 新字段名 类型(长度) [COMMENT 注释] [约束];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> 表名 CHANGE 旧字段名 新字段名 类型(长度) [COMMENT 注释] [约束];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="删除字段" tabindex="-1">删除字段 <a class="header-anchor" href="#删除字段" aria-label="Permalink to &quot;删除字段&quot;">​</a></h3><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> 表名 </span><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> 字段名;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> 表名 </span><span style="color:#D73A49;">DROP</span><span style="color:#24292E;"> 字段名;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="修改表名" tabindex="-1">修改表名 <a class="header-anchor" href="#修改表名" aria-label="Permalink to &quot;修改表名&quot;">​</a></h3><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> 表名 RENAME </span><span style="color:#F97583;">TO</span><span style="color:#E1E4E8;"> 新表名;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> 表名 RENAME </span><span style="color:#D73A49;">TO</span><span style="color:#24292E;"> 新表名;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="删除表" tabindex="-1">删除表 <a class="header-anchor" href="#删除表" aria-label="Permalink to &quot;删除表&quot;">​</a></h3><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> [IF EXISTS] 表名;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">DROP</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> [IF EXISTS] 表名;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="删除指定表-并重新创建" tabindex="-1">删除指定表，并重新创建 <a class="header-anchor" href="#删除指定表-并重新创建" aria-label="Permalink to &quot;删除指定表，并重新创建&quot;">​</a></h3><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">TRUNCATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> 表名;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">TRUNCATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> 表名;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="dml-数据增删改操作" tabindex="-1">DML 数据增删改操作 <a class="header-anchor" href="#dml-数据增删改操作" aria-label="Permalink to &quot;DML 数据增删改操作&quot;">​</a></h2><p>添加 INSERT</p><p>修改 UPDATE</p><p>删除 DELETE</p><h3 id="添加数据" tabindex="-1">添加数据 <a class="header-anchor" href="#添加数据" aria-label="Permalink to &quot;添加数据&quot;">​</a></h3><p>给指定字段添加</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> 表名(字段1,字段2,字段3 ...)  </span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;"> (值1,值2,值3 ...);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> 表名(字段1,字段2,字段3 ...)  </span><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;"> (值1,值2,值3 ...);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>给所有字段添加</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> 表名 </span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;">(值1, 值2, ...);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> 表名 </span><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;">(值1, 值2, ...);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>批量添加数据</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> 表名 (字段1,字段2,...) </span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;"> (值1,值2,...),(值1,值2,...),(值1,值2,...);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> 表名 (字段1,字段2,...) </span><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;"> (值1,值2,...),(值1,值2,...),(值1,值2,...);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> 表名 </span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;"> (值1,值2,...),(值1,值2,...),(值1,值2,...);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> 表名 </span><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;"> (值1,值2,...),(值1,值2,...),(值1,值2,...);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="修改数据" tabindex="-1">修改数据 <a class="header-anchor" href="#修改数据" aria-label="Permalink to &quot;修改数据&quot;">​</a></h3><p>如果不带 WHERE 条件，则整张表对应字段的数据都会更新</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">UPDATE</span><span style="color:#E1E4E8;"> 表名 </span><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> 字段名1</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">值1,字段名2</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">值2,...[WHERE 条件];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">UPDATE</span><span style="color:#24292E;"> 表名 </span><span style="color:#D73A49;">SET</span><span style="color:#24292E;"> 字段名1</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">值1,字段名2</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">值2,...[WHERE 条件];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">update</span><span style="color:#E1E4E8;"> employer </span><span style="color:#F97583;">set</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;xingxing&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> id </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">update</span><span style="color:#24292E;"> employer </span><span style="color:#D73A49;">set</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;xingxing&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> id </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="删除数据" tabindex="-1">删除数据 <a class="header-anchor" href="#删除数据" aria-label="Permalink to &quot;删除数据&quot;">​</a></h3><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">DELETE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表名 [WHERE 条件];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">DELETE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表名 [WHERE 条件];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>删除所有数据时不需要带 WHERE 条件，如删除所有员工</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">delete</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> employer;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> employer;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="dql-数据查询" tabindex="-1">DQL 数据查询 <a class="header-anchor" href="#dql-数据查询" aria-label="Permalink to &quot;DQL 数据查询&quot;">​</a></h2><h3 id="编写顺序和执行顺序" tabindex="-1">编写顺序和执行顺序 <a class="header-anchor" href="#编写顺序和执行顺序" aria-label="Permalink to &quot;编写顺序和执行顺序&quot;">​</a></h3><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;">   		（</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">）</span></span>
<span class="line"><span style="color:#E1E4E8;">	字段列表</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;">   			（</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">）</span></span>
<span class="line"><span style="color:#E1E4E8;">	表名列表</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;">			（</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">）</span></span>
<span class="line"><span style="color:#E1E4E8;">	条件列表</span></span>
<span class="line"><span style="color:#F97583;">GROUP BY</span><span style="color:#E1E4E8;">		（</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">）</span></span>
<span class="line"><span style="color:#E1E4E8;">	分组字段列表</span></span>
<span class="line"><span style="color:#F97583;">HAVING</span></span>
<span class="line"><span style="color:#E1E4E8;">	分组后条件列表</span></span>
<span class="line"><span style="color:#F97583;">ORDER BY</span><span style="color:#E1E4E8;">		（</span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">）</span></span>
<span class="line"><span style="color:#E1E4E8;">	排序字段列表</span></span>
<span class="line"><span style="color:#F97583;">LIMIT</span><span style="color:#E1E4E8;">			（</span><span style="color:#79B8FF;">6</span><span style="color:#E1E4E8;">）</span></span>
<span class="line"><span style="color:#E1E4E8;">	分页参数</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;">   		（</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">）</span></span>
<span class="line"><span style="color:#24292E;">	字段列表</span></span>
<span class="line"><span style="color:#D73A49;">FROM</span><span style="color:#24292E;">   			（</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">）</span></span>
<span class="line"><span style="color:#24292E;">	表名列表</span></span>
<span class="line"><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;">			（</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">）</span></span>
<span class="line"><span style="color:#24292E;">	条件列表</span></span>
<span class="line"><span style="color:#D73A49;">GROUP BY</span><span style="color:#24292E;">		（</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">）</span></span>
<span class="line"><span style="color:#24292E;">	分组字段列表</span></span>
<span class="line"><span style="color:#D73A49;">HAVING</span></span>
<span class="line"><span style="color:#24292E;">	分组后条件列表</span></span>
<span class="line"><span style="color:#D73A49;">ORDER BY</span><span style="color:#24292E;">		（</span><span style="color:#005CC5;">5</span><span style="color:#24292E;">）</span></span>
<span class="line"><span style="color:#24292E;">	排序字段列表</span></span>
<span class="line"><span style="color:#D73A49;">LIMIT</span><span style="color:#24292E;">			（</span><span style="color:#005CC5;">6</span><span style="color:#24292E;">）</span></span>
<span class="line"><span style="color:#24292E;">	分页参数</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="基本查询" tabindex="-1">基本查询 <a class="header-anchor" href="#基本查询" aria-label="Permalink to &quot;基本查询&quot;">​</a></h3><p>1.查询多个字段</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> 字段1,字段2,字段3... </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表名;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> 字段1,字段2,字段3... </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表名;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表名;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表名;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>2.设置别名</p><div class="language-SQL vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">SQL</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> 字段1 [AS 别名1], 字段2 [AS 别名2] ... </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表名;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> 字段1 [AS 别名1], 字段2 [AS 别名2] ... </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表名;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>3.数据去重</p><div class="language-SQL vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">SQL</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT DISTINCT</span><span style="color:#E1E4E8;"> 字段列表 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表名;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT DISTINCT</span><span style="color:#24292E;"> 字段列表 </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表名;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="条件查询" tabindex="-1">条件查询 <a class="header-anchor" href="#条件查询" aria-label="Permalink to &quot;条件查询&quot;">​</a></h3><p>条件列表</p><table><thead><tr><th>比较运算符</th><th>功能</th></tr></thead><tbody><tr><td>&gt;</td><td></td></tr><tr><td>&gt;=</td><td></td></tr><tr><td>&lt;=</td><td></td></tr><tr><td>=</td><td></td></tr><tr><td>&lt;&gt; 或 !=</td><td>不等于</td></tr><tr><td>BETWEEN ... AND ...</td><td>范围查询 [最小值,最大值]</td></tr><tr><td>IN(...)</td><td>在 in 之后的列表中的值，多选一</td></tr><tr><td>LIKE 占位符</td><td>模糊匹配(_匹配单个字符, %匹配任意个字符)</td></tr><tr><td>IS NULL</td><td>是 NULL 的话</td></tr><tr><td>AND 或 &amp;&amp;</td><td>与</td></tr><tr><td>OR 或 ||</td><td>或</td></tr><tr><td>NOT 或 !</td><td>非</td></tr></tbody></table><h4 id="案例" tabindex="-1">案例 <a class="header-anchor" href="#案例" aria-label="Permalink to &quot;案例&quot;">​</a></h4><p>查询名字为两个字的员工</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> employer </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">like</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;__&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> employer </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">like</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;__&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>查询身份证最后一位是 X 的员工信息</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> employer </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> idcard </span><span style="color:#F97583;">like</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;%X&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> employer </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> idcard </span><span style="color:#D73A49;">like</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;%X&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="聚合函数" tabindex="-1">聚合函数 <a class="header-anchor" href="#聚合函数" aria-label="Permalink to &quot;聚合函数&quot;">​</a></h3><p>分组查询一般是和聚合函数配合使用的</p><p>常见聚合函数</p><table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td>count</td><td>统计数量</td></tr><tr><td>max</td><td>最大值</td></tr><tr><td>min</td><td>最小值</td></tr><tr><td>avg</td><td>平均值</td></tr><tr><td>sum</td><td>求和</td></tr></tbody></table><p>语法</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> 聚合函数(字段列表) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表名;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> 聚合函数(字段列表) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表名;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>注意</p><p><strong>null 值不参与统计</strong></p><h4 id="案例-1" tabindex="-1">案例 <a class="header-anchor" href="#案例-1" aria-label="Permalink to &quot;案例&quot;">​</a></h4><p>统计员工数量</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">COUNT</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> employer;</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">COUNT</span><span style="color:#E1E4E8;">(idcard) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> employer;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">COUNT</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> employer;</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">COUNT</span><span style="color:#24292E;">(idcard) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> employer;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>统计员工平均年龄</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">avg</span><span style="color:#E1E4E8;">(age) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> employer;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">avg</span><span style="color:#24292E;">(age) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> employer;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>统计杭州员工的年龄之和</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">sum</span><span style="color:#E1E4E8;">(age) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> workaddress </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;杭州&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">sum</span><span style="color:#24292E;">(age) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> workaddress </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;杭州&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="分组查询" tabindex="-1">分组查询 <a class="header-anchor" href="#分组查询" aria-label="Permalink to &quot;分组查询&quot;">​</a></h3><p>如果不满足 WHERE 条件，则后续的 GROUP BY 不参与查询</p><div class="language-SQL vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">SQL</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> 字段列表 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表名 [WHERE 条件] </span><span style="color:#F97583;">GROUP BY</span><span style="color:#E1E4E8;"> 分组字段名 [HAVING 分组后过滤条件];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> 字段列表 </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表名 [WHERE 条件] </span><span style="color:#D73A49;">GROUP BY</span><span style="color:#24292E;"> 分组字段名 [HAVING 分组后过滤条件];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>WHERE 和 HAVING 的区别</p><p>执行时机：where 是分组之前过滤，不满足 WHERE 条件不参与分组；而 having 是分组之后对结果再进行过滤。</p><p>判断条件：where 不能对聚合函数进行判断， having 可以。</p><p>执行顺序：</p><p>WHERE &gt; 聚合函数 &gt; having</p><h4 id="案例-2" tabindex="-1">案例 <a class="header-anchor" href="#案例-2" aria-label="Permalink to &quot;案例&quot;">​</a></h4><p>根据性别分组，统计男员工和女员工数量</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> gender, </span><span style="color:#79B8FF;">COUNT</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> employer </span><span style="color:#F97583;">group BY</span><span style="color:#E1E4E8;"> gender</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> gender, </span><span style="color:#005CC5;">COUNT</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> employer </span><span style="color:#D73A49;">group BY</span><span style="color:#24292E;"> gender</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>查询年龄小于 45 的员工，并根据工作地址分组，获取员工数量大于等于 3 的工作地址</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> workaddress, </span><span style="color:#79B8FF;">COUNT</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> address_count </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> employer </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> age </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">45</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">group BY</span><span style="color:#E1E4E8;"> workaddress </span><span style="color:#F97583;">having</span><span style="color:#E1E4E8;"> address_count </span><span style="color:#F97583;">&gt;=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> workaddress, </span><span style="color:#005CC5;">COUNT</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> address_count </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> employer </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> age </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">45</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">group BY</span><span style="color:#24292E;"> workaddress </span><span style="color:#D73A49;">having</span><span style="color:#24292E;"> address_count </span><span style="color:#D73A49;">&gt;=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="排序查询" tabindex="-1">排序查询 <a class="header-anchor" href="#排序查询" aria-label="Permalink to &quot;排序查询&quot;">​</a></h3><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> 字段列表 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表名 </span><span style="color:#F97583;">ORDER BY</span><span style="color:#E1E4E8;"> 字段1 排序方式1, 字段2, 排序方式2 ...;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> 字段列表 </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表名 </span><span style="color:#D73A49;">ORDER BY</span><span style="color:#24292E;"> 字段1 排序方式1, 字段2, 排序方式2 ...;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>排序方式：</p><p>ASC(ascending ORDER)：升序（默认)</p><p>DESC(descending ORDER)：降序</p><h4 id="案例-3" tabindex="-1">案例 <a class="header-anchor" href="#案例-3" aria-label="Permalink to &quot;案例&quot;">​</a></h4><p>根据年龄对公司员工进行升序排序，年龄相同，再按照入职时间进行降序排序。</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> employer </span><span style="color:#F97583;">ORDER BY</span><span style="color:#E1E4E8;"> age </span><span style="color:#F97583;">ASC</span><span style="color:#E1E4E8;">, entrydate </span><span style="color:#F97583;">DESC</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> employer </span><span style="color:#D73A49;">ORDER BY</span><span style="color:#24292E;"> age </span><span style="color:#D73A49;">ASC</span><span style="color:#24292E;">, entrydate </span><span style="color:#D73A49;">DESC</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="分页查询" tabindex="-1">分页查询 <a class="header-anchor" href="#分页查询" aria-label="Permalink to &quot;分页查询&quot;">​</a></h3><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> 字段列表 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表名 </span><span style="color:#F97583;">LIMIT</span><span style="color:#E1E4E8;"> 起始索引, 查询记录数;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> 字段列表 </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表名 </span><span style="color:#D73A49;">LIMIT</span><span style="color:#24292E;"> 起始索引, 查询记录数;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>注意：</p><p>索引从 0 开始，索引 = （查询页码 - 1） * 每页显示记录数</p><p>分页查询在不同数据库会有不同实现， MySQL 是 LIMIT</p><p>如果只查第一页，可以省略起始索引字段</p><p>多个查询条件时，LIMIT 写在最后面</p><h4 id="案例-4" tabindex="-1">案例 <a class="header-anchor" href="#案例-4" aria-label="Permalink to &quot;案例&quot;">​</a></h4><p>查询第 2 页员工数据，每页展示 10 条</p><p>索引从 0 开始，索引 = （查询页码 - 1） * 每页显示记录数</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> employer </span><span style="color:#F97583;">limit</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> employer </span><span style="color:#D73A49;">limit</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="dcl-管理用户" tabindex="-1">DCL 管理用户 <a class="header-anchor" href="#dcl-管理用户" aria-label="Permalink to &quot;DCL 管理用户&quot;">​</a></h2><h3 id="查询用户" tabindex="-1">查询用户 <a class="header-anchor" href="#查询用户" aria-label="Permalink to &quot;查询用户&quot;">​</a></h3><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">USE</span><span style="color:#E1E4E8;"> mysql;</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> user;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">USE</span><span style="color:#24292E;"> mysql;</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> user;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="创建用户" tabindex="-1">创建用户 <a class="header-anchor" href="#创建用户" aria-label="Permalink to &quot;创建用户&quot;">​</a></h3><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">USER</span><span style="color:#E1E4E8;"> &#39;</span><span style="color:#B392F0;">用户名</span><span style="color:#E1E4E8;">&#39;@</span><span style="color:#9ECBFF;">&#39;主机名&#39;</span><span style="color:#E1E4E8;"> IDENTIFIED </span><span style="color:#F97583;">BY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;密码&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">USER</span><span style="color:#24292E;"> &#39;</span><span style="color:#6F42C1;">用户名</span><span style="color:#24292E;">&#39;@</span><span style="color:#032F62;">&#39;主机名&#39;</span><span style="color:#24292E;"> IDENTIFIED </span><span style="color:#D73A49;">BY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;密码&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="修改用户密码" tabindex="-1">修改用户密码 <a class="header-anchor" href="#修改用户密码" aria-label="Permalink to &quot;修改用户密码&quot;">​</a></h3><div class="language-SQL vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">SQL</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">USER</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;用户名&#39;</span><span style="color:#E1E4E8;">@</span><span style="color:#9ECBFF;">&#39;主机名&#39;</span><span style="color:#E1E4E8;"> IDENTIFIED </span><span style="color:#F97583;">WITH</span><span style="color:#E1E4E8;"> mysql_native_password </span><span style="color:#F97583;">BY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;新密码&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">USER</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;用户名&#39;</span><span style="color:#24292E;">@</span><span style="color:#032F62;">&#39;主机名&#39;</span><span style="color:#24292E;"> IDENTIFIED </span><span style="color:#D73A49;">WITH</span><span style="color:#24292E;"> mysql_native_password </span><span style="color:#D73A49;">BY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;新密码&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="删除用户" tabindex="-1">删除用户 <a class="header-anchor" href="#删除用户" aria-label="Permalink to &quot;删除用户&quot;">​</a></h3><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">USER</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;用户名&#39;</span><span style="color:#E1E4E8;">@</span><span style="color:#9ECBFF;">&#39;主机名&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">DROP</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">USER</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;用户名&#39;</span><span style="color:#24292E;">@</span><span style="color:#032F62;">&#39;主机名&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="案例-5" tabindex="-1">案例 <a class="header-anchor" href="#案例-5" aria-label="Permalink to &quot;案例&quot;">​</a></h3><h4 id="创建用户-本地可以访问" tabindex="-1">创建用户，本地可以访问 <a class="header-anchor" href="#创建用户-本地可以访问" aria-label="Permalink to &quot;创建用户，本地可以访问&quot;">​</a></h4><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">user</span><span style="color:#E1E4E8;"> &#39;</span><span style="color:#B392F0;">dachui</span><span style="color:#E1E4E8;">&#39;@</span><span style="color:#9ECBFF;">&#39;localhost&#39;</span><span style="color:#E1E4E8;"> IDENTIFIED </span><span style="color:#F97583;">BY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;123456&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">user</span><span style="color:#24292E;"> &#39;</span><span style="color:#6F42C1;">dachui</span><span style="color:#24292E;">&#39;@</span><span style="color:#032F62;">&#39;localhost&#39;</span><span style="color:#24292E;"> IDENTIFIED </span><span style="color:#D73A49;">BY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;123456&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="创建用户-任意主机可以访问" tabindex="-1">创建用户，任意主机可以访问 <a class="header-anchor" href="#创建用户-任意主机可以访问" aria-label="Permalink to &quot;创建用户，任意主机可以访问&quot;">​</a></h4><p>使用 % 进行通配符匹配，表示所有主机</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">user</span><span style="color:#E1E4E8;"> &#39;</span><span style="color:#B392F0;">dachui</span><span style="color:#E1E4E8;">&#39;@</span><span style="color:#9ECBFF;">&#39;%&#39;</span><span style="color:#E1E4E8;"> IDENTIFIED </span><span style="color:#F97583;">BY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;123456&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">user</span><span style="color:#24292E;"> &#39;</span><span style="color:#6F42C1;">dachui</span><span style="color:#24292E;">&#39;@</span><span style="color:#032F62;">&#39;%&#39;</span><span style="color:#24292E;"> IDENTIFIED </span><span style="color:#D73A49;">BY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;123456&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="权限控制" tabindex="-1">权限控制 <a class="header-anchor" href="#权限控制" aria-label="Permalink to &quot;权限控制&quot;">​</a></h3><table><thead><tr><th>权限</th><th>说明</th></tr></thead><tbody><tr><td>ALL, ALL PRIVILEGES</td><td>所有权限</td></tr><tr><td>SELECT</td><td>查询数据</td></tr><tr><td>INSERT</td><td>插入数据</td></tr><tr><td>UPDATE</td><td>修改数据</td></tr><tr><td>DELETE</td><td>删除数据</td></tr><tr><td>ALTER</td><td>修改表</td></tr><tr><td>DROP</td><td>删除数据库/表/视图</td></tr><tr><td>CREATE</td><td>创建数据库/表</td></tr></tbody></table><h4 id="查询权限" tabindex="-1">查询权限 <a class="header-anchor" href="#查询权限" aria-label="Permalink to &quot;查询权限&quot;">​</a></h4><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">SHOW GRANTS FOR </span><span style="color:#9ECBFF;">&#39;用户名&#39;</span><span style="color:#E1E4E8;">@</span><span style="color:#9ECBFF;">&#39;主机名&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">SHOW GRANTS FOR </span><span style="color:#032F62;">&#39;用户名&#39;</span><span style="color:#24292E;">@</span><span style="color:#032F62;">&#39;主机名&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="授予权限" tabindex="-1">授予权限 <a class="header-anchor" href="#授予权限" aria-label="Permalink to &quot;授予权限&quot;">​</a></h4><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GRANT</span><span style="color:#E1E4E8;"> 权限列表 </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">数据库名</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">表名</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;用户名&#39;</span><span style="color:#E1E4E8;">@</span><span style="color:#9ECBFF;">&#39;主机名&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GRANT</span><span style="color:#24292E;"> 权限列表 </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">数据库名</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">表名</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TO</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;用户名&#39;</span><span style="color:#24292E;">@</span><span style="color:#032F62;">&#39;主机名&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>所有数据库所有表授权时，数据库名.表名可以写成 *.*</p><h4 id="撤销权限" tabindex="-1">撤销权限 <a class="header-anchor" href="#撤销权限" aria-label="Permalink to &quot;撤销权限&quot;">​</a></h4><div class="language-SQL vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">SQL</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">REVOKE</span><span style="color:#E1E4E8;"> 权限列表 </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">数据库名</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">表名</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;用户名&#39;</span><span style="color:#E1E4E8;">@</span><span style="color:#9ECBFF;">&#39;主机名&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">REVOKE</span><span style="color:#24292E;"> 权限列表 </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">数据库名</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">表名</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;用户名&#39;</span><span style="color:#24292E;">@</span><span style="color:#032F62;">&#39;主机名&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="案例-6" tabindex="-1">案例 <a class="header-anchor" href="#案例-6" aria-label="Permalink to &quot;案例&quot;">​</a></h4><p>给予 dachui 这个用户 test 数据库下面所有表的访问权限</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">grant</span><span style="color:#E1E4E8;"> all </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> test.</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;dachui&#39;</span><span style="color:#E1E4E8;">@</span><span style="color:#9ECBFF;">&#39;%&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">grant</span><span style="color:#24292E;"> all </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> test.</span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;dachui&#39;</span><span style="color:#24292E;">@</span><span style="color:#032F62;">&#39;%&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="函数" tabindex="-1">函数 <a class="header-anchor" href="#函数" aria-label="Permalink to &quot;函数&quot;">​</a></h2><h3 id="字符串函数" tabindex="-1">字符串函数 <a class="header-anchor" href="#字符串函数" aria-label="Permalink to &quot;字符串函数&quot;">​</a></h3><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>concat(s1, s2, ...sn)</td><td>字符串拼接</td></tr><tr><td>lower(str)</td><td>转小写</td></tr><tr><td>upper(str)</td><td>转大写</td></tr><tr><td>lpad(str, n, pad)</td><td>左填充 pad 字符 直到 n 个长度</td></tr><tr><td>rpad(str, n, pad)</td><td>右填充 pad 字符 直到 n 个长度</td></tr><tr><td>trim(str)</td><td>去掉头尾空格</td></tr><tr><td>substring(str, start, len)</td><td>返回从字符串 str 从 start 位置起的 len 个长度的字符串</td></tr></tbody></table><h3 id="数值函数" tabindex="-1">数值函数 <a class="header-anchor" href="#数值函数" aria-label="Permalink to &quot;数值函数&quot;">​</a></h3><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>ceil(x)</td><td>向上取整</td></tr><tr><td>floor(x)</td><td>向下取整</td></tr><tr><td>mod(x, y)</td><td>返回 x/y 的模</td></tr><tr><td>rand()</td><td>返回 0 ~ 1 的随机数</td></tr><tr><td>round(x, y)</td><td>求参数 x 的四舍五入的值，保留 y 位小数</td></tr></tbody></table><h3 id="日期函数" tabindex="-1">日期函数 <a class="header-anchor" href="#日期函数" aria-label="Permalink to &quot;日期函数&quot;">​</a></h3><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>curdate()</td><td>返回当前日期</td></tr><tr><td>curtime()</td><td>返回当前时间</td></tr><tr><td>now()</td><td>返回当前日期和时间</td></tr><tr><td>year(date)</td><td>获取指定 date 的年份</td></tr><tr><td>month(date)</td><td>获取指定 date 的月份</td></tr><tr><td>day(date)</td><td>获取指定 date 的日期</td></tr><tr><td>date_add(date, INTERVAL expr type)</td><td>返回一个日期/时间值加上一个时间间隔 expr 后的时间值，如给返回现在加上 70 年后的时间 <code>SELECT date_add(now(), INTERVAL 70 YEAR)</code></td></tr><tr><td>datediff(date1, date2)</td><td>返回起始时间 date1 和结束时间 date2 之间的天数，date1 - date2</td></tr></tbody></table><h3 id="流程函数" tabindex="-1">流程函数 <a class="header-anchor" href="#流程函数" aria-label="Permalink to &quot;流程函数&quot;">​</a></h3><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>if(value, t, f)</td><td>如果 value 为 true，返回 t，否则返回 f</td></tr><tr><td>ifnull(value1, value2)</td><td>value1 不为空，返回 value1,否则返回 value2</td></tr><tr><td>case when [val1] then [res1] ... else [default] end</td><td>如果 val1 为 true，返回 res1 ,...否则返回 default 默认值</td></tr><tr><td>case [expr] when [val1] then [res1] ... else [default] end</td><td>如果 expr 的值等于 val1 ,返回 res1, ... 否则返回 default 默认值</td></tr></tbody></table><h4 id="案例-7" tabindex="-1">案例 <a class="header-anchor" href="#案例-7" aria-label="Permalink to &quot;案例&quot;">​</a></h4><p>查询员工表的员工姓名和工作地址，如果北上广深就返回一线，其它的就返回其它城市</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	(</span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> workaddress </span><span style="color:#F97583;">when</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;北京&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">then</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;一线城市&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">when</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;上海&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">then</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;一线城市&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">when</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;广州&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">then</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;一线城市&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">when</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;深圳&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">then</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;一线城市&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;其它城市&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">end</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;工作地址&#39;</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> employer;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">name</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	(</span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> workaddress </span><span style="color:#D73A49;">when</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;北京&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">then</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;一线城市&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">when</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;上海&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">then</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;一线城市&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">when</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;广州&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">then</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;一线城市&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">when</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;深圳&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">then</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;一线城市&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;其它城市&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">end</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;工作地址&#39;</span></span>
<span class="line"><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> employer;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>统计班级各个学院的成绩，大于等于 85 展示优秀，大于等于 60 展示及格，否则展示不及格</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span></span>
<span class="line"><span style="color:#E1E4E8;">	id,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	(</span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">when</span><span style="color:#E1E4E8;"> math </span><span style="color:#F97583;">&gt;=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">85</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">then</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;优秀&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">when</span><span style="color:#E1E4E8;"> math </span><span style="color:#F97583;">&gt;=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">60</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">then</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;及格&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;不及格&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">end</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;数学成绩&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	(</span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">when</span><span style="color:#E1E4E8;"> english </span><span style="color:#F97583;">&gt;=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">85</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">then</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;优秀&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">when</span><span style="color:#E1E4E8;"> english </span><span style="color:#F97583;">&gt;=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">60</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">then</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;及格&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;不及格&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">end</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;英语成绩&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	(</span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">when</span><span style="color:#E1E4E8;"> chinese </span><span style="color:#F97583;">&gt;=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">85</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">then</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;优秀&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">when</span><span style="color:#E1E4E8;"> chinese </span><span style="color:#F97583;">&gt;=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">60</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">then</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;及格&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;不及格&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">end</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;语文成绩&#39;</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> score;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span></span>
<span class="line"><span style="color:#24292E;">	id,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">name</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	(</span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">when</span><span style="color:#24292E;"> math </span><span style="color:#D73A49;">&gt;=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">85</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">then</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;优秀&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">when</span><span style="color:#24292E;"> math </span><span style="color:#D73A49;">&gt;=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">60</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">then</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;及格&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;不及格&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">end</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;数学成绩&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	(</span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">when</span><span style="color:#24292E;"> english </span><span style="color:#D73A49;">&gt;=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">85</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">then</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;优秀&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">when</span><span style="color:#24292E;"> english </span><span style="color:#D73A49;">&gt;=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">60</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">then</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;及格&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;不及格&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">end</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;英语成绩&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	(</span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">when</span><span style="color:#24292E;"> chinese </span><span style="color:#D73A49;">&gt;=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">85</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">then</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;优秀&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">when</span><span style="color:#24292E;"> chinese </span><span style="color:#D73A49;">&gt;=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">60</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">then</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;及格&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;不及格&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">end</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;语文成绩&#39;</span></span>
<span class="line"><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> score;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="约束" tabindex="-1">约束 <a class="header-anchor" href="#约束" aria-label="Permalink to &quot;约束&quot;">​</a></h2><h3 id="概念" tabindex="-1">概念 <a class="header-anchor" href="#概念" aria-label="Permalink to &quot;概念&quot;">​</a></h3><p>作用域表中字段的规则，用于限制存储在表中的数据，用来保证数据库中数据的正确、有效和完整</p><h3 id="约束的分类" tabindex="-1">约束的分类 <a class="header-anchor" href="#约束的分类" aria-label="Permalink to &quot;约束的分类&quot;">​</a></h3><table><thead><tr><th>约束</th><th>关键字</th><th>描述</th></tr></thead><tbody><tr><td>非空</td><td>NOT NULL</td><td>限制数据不能为空</td></tr><tr><td>唯一约束</td><td>UNIQUE</td><td>保证该字段的所有数据都是唯一不重复的</td></tr><tr><td>主键约束</td><td>PRIMARY KEY</td><td>主键是一行数据的唯一标识，要求非空且唯一</td></tr><tr><td>默认约束</td><td>DEFAULT</td><td>保存数据时，未指定的适合就采用默认值</td></tr><tr><td>检查约束(8.0.16 版本后支持)</td><td>CHECK</td><td>保证字段值满足某一个条件</td></tr><tr><td>外键约束</td><td>FOREIGN KEY</td><td>用来让两张表的数据建立连接，保证数据的一致性和完整性</td></tr></tbody></table><h4 id="案例-8" tabindex="-1">案例 <a class="header-anchor" href="#案例-8" aria-label="Permalink to &quot;案例&quot;">​</a></h4><p>创建一个用户表，用上一些约束条件</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">user</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  id </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">PRIMARY KEY</span><span style="color:#E1E4E8;"> AUTO_INCREMENT COMMENT </span><span style="color:#9ECBFF;">&#39;主键&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">UNIQUE</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;姓名&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	age </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">CHECK</span><span style="color:#E1E4E8;"> (age </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> &amp;&amp; age </span><span style="color:#F97583;">&lt;=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">120</span><span style="color:#E1E4E8;"> ) COMMENT </span><span style="color:#9ECBFF;">&#39;年龄&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">status</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">CHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;1&#39;</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;状态&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	gender </span><span style="color:#F97583;">CHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">) COMMENT </span><span style="color:#9ECBFF;">&#39;性别&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">) COMMENT </span><span style="color:#9ECBFF;">&#39;用户表&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">user</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  id </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;"> AUTO_INCREMENT COMMENT </span><span style="color:#032F62;">&#39;主键&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">UNIQUE</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;姓名&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	age </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">CHECK</span><span style="color:#24292E;"> (age </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> &amp;&amp; age </span><span style="color:#D73A49;">&lt;=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">120</span><span style="color:#24292E;"> ) COMMENT </span><span style="color:#032F62;">&#39;年龄&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">status</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">CHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;1&#39;</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;状态&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	gender </span><span style="color:#D73A49;">CHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) COMMENT </span><span style="color:#032F62;">&#39;性别&#39;</span></span>
<span class="line"><span style="color:#24292E;">) COMMENT </span><span style="color:#032F62;">&#39;用户表&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="外键约束" tabindex="-1">外键约束 <a class="header-anchor" href="#外键约束" aria-label="Permalink to &quot;外键约束&quot;">​</a></h3><h4 id="添加外键" tabindex="-1">添加外键 <a class="header-anchor" href="#添加外键" aria-label="Permalink to &quot;添加外键&quot;">​</a></h4><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">表名</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">	...</span></span>
<span class="line"><span style="color:#E1E4E8;">    [CONSTRAINT] [外键名称] </span><span style="color:#F97583;">FOREIGN KEY</span><span style="color:#E1E4E8;"> (外键字段名) </span><span style="color:#F97583;">REFERENCES</span><span style="color:#E1E4E8;"> 主表 (主表列名);</span></span>
<span class="line"><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">表名</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">	...</span></span>
<span class="line"><span style="color:#24292E;">    [CONSTRAINT] [外键名称] </span><span style="color:#D73A49;">FOREIGN KEY</span><span style="color:#24292E;"> (外键字段名) </span><span style="color:#D73A49;">REFERENCES</span><span style="color:#24292E;"> 主表 (主表列名);</span></span>
<span class="line"><span style="color:#24292E;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>如果已存在表想要添加外键约束</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> 表名 </span><span style="color:#F97583;">ADD</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">CONSTRAINT</span><span style="color:#E1E4E8;"> 外键名称 </span><span style="color:#F97583;">FOREIGN KEY</span><span style="color:#E1E4E8;"> (外键字段名) </span><span style="color:#F97583;">REFERENCES</span><span style="color:#E1E4E8;"> 主表 (主表列名);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> 表名 </span><span style="color:#D73A49;">ADD</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">CONSTRAINT</span><span style="color:#24292E;"> 外键名称 </span><span style="color:#D73A49;">FOREIGN KEY</span><span style="color:#24292E;"> (外键字段名) </span><span style="color:#D73A49;">REFERENCES</span><span style="color:#24292E;"> 主表 (主表列名);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="删除外键" tabindex="-1">删除外键 <a class="header-anchor" href="#删除外键" aria-label="Permalink to &quot;删除外键&quot;">​</a></h4><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> 表名 </span><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FOREIGN KEY</span><span style="color:#E1E4E8;"> 外键名称;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> 表名 </span><span style="color:#D73A49;">DROP</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FOREIGN KEY</span><span style="color:#24292E;"> 外键名称;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="外键删除更新行为" tabindex="-1">外键删除更新行为 <a class="header-anchor" href="#外键删除更新行为" aria-label="Permalink to &quot;外键删除更新行为&quot;">​</a></h4><table><thead><tr><th>行为</th><th>说明</th></tr></thead><tbody><tr><td>NO ACTION</td><td>当在父表中删除/更新记录时，先检查该记录是否有外键，如果有则不允许删除，和(RESTRICT 一样)</td></tr><tr><td>RESTRICT</td><td>当在父表中删除/更新记录时，先检查该记录是否有外键，如果有则不允许删除，和(NO ACTION 一样)</td></tr><tr><td>CASCADE(级联)</td><td>当在父表中删除/更新记录时，先检查该记录是否有外键，如果有则同时删除/更新外键在子表中的记录</td></tr><tr><td>SET NULL</td><td>当在父表中删除记录时，先检查该记录是否有外键，如果有则设置子表中该外键值为 null(要求外键允许为 null)</td></tr><tr><td>SET DEFAULT</td><td>父表有变更时，子表将外键列设置成一个默认的值(innodb 不支持)</td></tr></tbody></table><p>让更新操作变成 CASCADE，删除操作也变成 CASCADE</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> 表名 </span><span style="color:#F97583;">CONSTRAINT</span><span style="color:#E1E4E8;"> 外键名称 </span><span style="color:#F97583;">FOREIGN KEY</span><span style="color:#E1E4E8;"> (外键字段) </span><span style="color:#F97583;">REFERENCES</span><span style="color:#E1E4E8;"> 主表名(主表字段名) </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">UPDATE</span><span style="color:#E1E4E8;"> CASCADE </span><span style="color:#F97583;">ON DELETE CASCADE</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> 表名 </span><span style="color:#D73A49;">CONSTRAINT</span><span style="color:#24292E;"> 外键名称 </span><span style="color:#D73A49;">FOREIGN KEY</span><span style="color:#24292E;"> (外键字段) </span><span style="color:#D73A49;">REFERENCES</span><span style="color:#24292E;"> 主表名(主表字段名) </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">UPDATE</span><span style="color:#24292E;"> CASCADE </span><span style="color:#D73A49;">ON DELETE CASCADE</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="多表-联表-查询" tabindex="-1">多表(联表)查询 <a class="header-anchor" href="#多表-联表-查询" aria-label="Permalink to &quot;多表(联表)查询&quot;">​</a></h2><h3 id="多表关系" tabindex="-1">多表关系 <a class="header-anchor" href="#多表关系" aria-label="Permalink to &quot;多表关系&quot;">​</a></h3><ul><li>一对多（多对一）</li><li>多对多</li><li>一对一</li></ul><h3 id="多对多" tabindex="-1">多对多 <a class="header-anchor" href="#多对多" aria-label="Permalink to &quot;多对多&quot;">​</a></h3><h4 id="案例-学生和课程的关西" tabindex="-1">案例：学生和课程的关西 <a class="header-anchor" href="#案例-学生和课程的关西" aria-label="Permalink to &quot;案例：学生和课程的关西&quot;">​</a></h4><p>一个学生可以选多门课，一门课也可以让多个学生选择</p><p>实现：建立第三张中间表，中间表至少包含两个外键，分别关联学生表和课程表</p><p>学生表</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">student</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    id </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> auto_increment </span><span style="color:#F97583;">primary key</span><span style="color:#E1E4E8;"> comment </span><span style="color:#9ECBFF;">&#39;主键ID&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">varchar</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">) comment </span><span style="color:#9ECBFF;">&#39;姓名&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">no</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">varchar</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">) comment </span><span style="color:#9ECBFF;">&#39;学号&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">) comment </span><span style="color:#9ECBFF;">&#39;学生表&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">student</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">    id </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> auto_increment </span><span style="color:#D73A49;">primary key</span><span style="color:#24292E;"> comment </span><span style="color:#032F62;">&#39;主键ID&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">varchar</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">) comment </span><span style="color:#032F62;">&#39;姓名&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">no</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">varchar</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">) comment </span><span style="color:#032F62;">&#39;学号&#39;</span></span>
<span class="line"><span style="color:#24292E;">) comment </span><span style="color:#032F62;">&#39;学生表&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>课程表</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">course</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    id </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> autp_increment </span><span style="color:#F97583;">primary key</span><span style="color:#E1E4E8;"> comment </span><span style="color:#9ECBFF;">&#39;主键ID&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">varchar</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">) comment </span><span style="color:#9ECBFF;">&#39;课程名称&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">) comment </span><span style="color:#9ECBFF;">&#39;课程表&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">course</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">    id </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> autp_increment </span><span style="color:#D73A49;">primary key</span><span style="color:#24292E;"> comment </span><span style="color:#032F62;">&#39;主键ID&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">varchar</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">) comment </span><span style="color:#032F62;">&#39;课程名称&#39;</span></span>
<span class="line"><span style="color:#24292E;">) comment </span><span style="color:#032F62;">&#39;课程表&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>课程学生关联中间表</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">student_course</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">	id </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> auto_increment comment </span><span style="color:#9ECBFF;">&#39;主键&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">primary key</span></span>
<span class="line"><span style="color:#E1E4E8;">    studentid </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">not null</span><span style="color:#E1E4E8;"> comment </span><span style="color:#9ECBFF;">&#39;学生ID&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    courseid </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">not null</span><span style="color:#E1E4E8;"> comment </span><span style="color:#9ECBFF;">&#39;课程ID&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">constraint</span><span style="color:#E1E4E8;"> fk_courseid </span><span style="color:#F97583;">foreign key</span><span style="color:#E1E4E8;"> (courseid) </span><span style="color:#F97583;">references</span><span style="color:#E1E4E8;"> course (id),</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">constraint</span><span style="color:#E1E4E8;"> fk_studentid </span><span style="color:#F97583;">foreign key</span><span style="color:#E1E4E8;"> (studentid) </span><span style="color:#F97583;">references</span><span style="color:#E1E4E8;"> student (id),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">) comment </span><span style="color:#9ECBFF;">&#39;学生课程中间表&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">student_course</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">	id </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> auto_increment comment </span><span style="color:#032F62;">&#39;主键&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">primary key</span></span>
<span class="line"><span style="color:#24292E;">    studentid </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">not null</span><span style="color:#24292E;"> comment </span><span style="color:#032F62;">&#39;学生ID&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    courseid </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">not null</span><span style="color:#24292E;"> comment </span><span style="color:#032F62;">&#39;课程ID&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">constraint</span><span style="color:#24292E;"> fk_courseid </span><span style="color:#D73A49;">foreign key</span><span style="color:#24292E;"> (courseid) </span><span style="color:#D73A49;">references</span><span style="color:#24292E;"> course (id),</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">constraint</span><span style="color:#24292E;"> fk_studentid </span><span style="color:#D73A49;">foreign key</span><span style="color:#24292E;"> (studentid) </span><span style="color:#D73A49;">references</span><span style="color:#24292E;"> student (id),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">) comment </span><span style="color:#032F62;">&#39;学生课程中间表&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="一对一" tabindex="-1">一对一 <a class="header-anchor" href="#一对一" aria-label="Permalink to &quot;一对一&quot;">​</a></h3><p>用户和用户详情的关系</p><p>一对一，用于单表拆分，基础字段放在一张表，其它详情字段放到另一张表，以提高操作效率。</p><p>实现：任意一方加入外键来关联另一方的主键，并且设置外键为唯一(UNIQUE)</p><h3 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to &quot;概述&quot;">​</a></h3><p>从多张表中查询数据</p><p>笛卡尔积：两个集合的所有组合情况（多表查询时，需要消除无效的笛卡尔积）</p><h3 id="分类" tabindex="-1">分类 <a class="header-anchor" href="#分类" aria-label="Permalink to &quot;分类&quot;">​</a></h3><h4 id="连接查询" tabindex="-1">连接查询： <a class="header-anchor" href="#连接查询" aria-label="Permalink to &quot;连接查询：&quot;">​</a></h4><ul><li>内连接：相当于查询 A、B 交集部分的数据</li><li>外连接： <ul><li>左外连接：查询左表所有数据以及两张表的交集部分数据</li><li>右外连接：查询右表所有数据，以及两张表交集部分数据</li></ul></li><li>自连接：当前表和自身的连接查询，自连接必须使用表别名</li></ul><h3 id="内连接" tabindex="-1">内连接 <a class="header-anchor" href="#内连接" aria-label="Permalink to &quot;内连接&quot;">​</a></h3><p>查询两张表交集部分</p><h4 id="隐式内连接" tabindex="-1">隐式内连接 <a class="header-anchor" href="#隐式内连接" aria-label="Permalink to &quot;隐式内连接&quot;">​</a></h4><div class="language-SQL vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">SQL</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> 字段列表 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表1,表2 </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> 条件 ...;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> 字段列表 </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表1,表2 </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> 条件 ...;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="显式内连接" tabindex="-1">显式内连接 <a class="header-anchor" href="#显式内连接" aria-label="Permalink to &quot;显式内连接&quot;">​</a></h4><div class="language-SQL vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">SQL</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> 字段列表 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表1 [INNER] </span><span style="color:#F97583;">JOIN</span><span style="color:#E1E4E8;"> 表2 </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> 连接条件;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> 字段列表 </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表1 [INNER] </span><span style="color:#D73A49;">JOIN</span><span style="color:#24292E;"> 表2 </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> 连接条件;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="案例-9" tabindex="-1">案例 <a class="header-anchor" href="#案例-9" aria-label="Permalink to &quot;案例&quot;">​</a></h4><p>查询每一个员工姓名，及关联部门的名称</p><p>内连接：</p><div class="language-sQL vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sQL</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">emp</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">dept</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp, dept </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">emp</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">dept</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">emp</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">dept</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp, dept </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">emp</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">dept</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">id</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>起个别名来查询</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp e, dept d </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp e, dept d </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">id</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>显式外连接：</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp e </span><span style="color:#F97583;">inner JOIN</span><span style="color:#E1E4E8;"> dept d </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp e </span><span style="color:#D73A49;">inner JOIN</span><span style="color:#24292E;"> dept d </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">id</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="外连接" tabindex="-1">外连接 <a class="header-anchor" href="#外连接" aria-label="Permalink to &quot;外连接&quot;">​</a></h3><h4 id="左外连接" tabindex="-1">左外连接 <a class="header-anchor" href="#左外连接" aria-label="Permalink to &quot;左外连接&quot;">​</a></h4><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> 字段列表 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表1 LEFT [OUTER] </span><span style="color:#F97583;">JOIN</span><span style="color:#E1E4E8;"> 表2 </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> 条件 ...;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> 字段列表 </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表1 LEFT [OUTER] </span><span style="color:#D73A49;">JOIN</span><span style="color:#24292E;"> 表2 </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> 条件 ...;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="右外连接" tabindex="-1">右外连接 <a class="header-anchor" href="#右外连接" aria-label="Permalink to &quot;右外连接&quot;">​</a></h4><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> 字段列表 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表1 RIGHT [OUTER] </span><span style="color:#F97583;">JOIN</span><span style="color:#E1E4E8;"> 表2 </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> 条件 ...;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> 字段列表 </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表1 RIGHT [OUTER] </span><span style="color:#D73A49;">JOIN</span><span style="color:#24292E;"> 表2 </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> 条件 ...;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="案例-10" tabindex="-1">案例 <a class="header-anchor" href="#案例-10" aria-label="Permalink to &quot;案例&quot;">​</a></h4><p>左外连接：查询员工表所有数据和对应部门信息</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> e.</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp e </span><span style="color:#F97583;">LEFT JOIN</span><span style="color:#E1E4E8;"> dept d </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> e.</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp e </span><span style="color:#D73A49;">LEFT JOIN</span><span style="color:#24292E;"> dept d </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">id</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>右外连接：查询部门表所有数据和对应员工信息</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> e.</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">, d.</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp e </span><span style="color:#F97583;">RIGHT JOIN</span><span style="color:#E1E4E8;"> dept d </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> e.</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">, d.</span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp e </span><span style="color:#D73A49;">RIGHT JOIN</span><span style="color:#24292E;"> dept d </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">id</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>用左外连接多一些，习惯性把主表放左边，因为右外连接也可以通过改一下顺序变成左外连接。</p><h4 id="自连接" tabindex="-1">自连接 <a class="header-anchor" href="#自连接" aria-label="Permalink to &quot;自连接&quot;">​</a></h4><p>自己连接自己，可以内连接查询，也可以外连接查询</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> 字段列表 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表A 别名A </span><span style="color:#F97583;">JOIN</span><span style="color:#E1E4E8;"> 表A 别名B </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> 条件 ...;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> 字段列表 </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表A 别名A </span><span style="color:#D73A49;">JOIN</span><span style="color:#24292E;"> 表A 别名B </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> 条件 ...;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="案例-11" tabindex="-1">案例 <a class="header-anchor" href="#案例-11" aria-label="Permalink to &quot;案例&quot;">​</a></h4><p>比如员工表里面找自己关联的领导，通过领导 ID 关联到员工 ID，因为领导 ID 用的也是员工 ID</p><p>1.查询员工及其所属领导名字</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">a</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">b</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp a, emp b </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">a</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">managerid</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">b</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">a</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">b</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp a, emp b </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">a</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">managerid</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">b</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">id</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>2.查询员工和所属领导名字，如果员工没有领导，也要查询出来，所以要用左外连接</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">a</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;员工&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">b</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;领导&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp a </span><span style="color:#F97583;">LEFT JOIN</span><span style="color:#E1E4E8;"> emp b </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">a</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">managerid</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">b</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">a</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;员工&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">b</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;领导&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp a </span><span style="color:#D73A49;">LEFT JOIN</span><span style="color:#24292E;"> emp b </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">a</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">managerid</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">b</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">id</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="联合查询" tabindex="-1">联合查询 <a class="header-anchor" href="#联合查询" aria-label="Permalink to &quot;联合查询&quot;">​</a></h3><p>union 把多个查询的结果合并起来，形成一个新的查询结果集。</p><p>不带 ALL 关键字时可以将查询后的结果去重</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> 字段列表 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表A ...</span></span>
<span class="line"><span style="color:#F97583;">UNION</span><span style="color:#E1E4E8;"> [ALL]</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> 字段列表 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表B ...;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> 字段列表 </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表A ...</span></span>
<span class="line"><span style="color:#D73A49;">UNION</span><span style="color:#24292E;"> [ALL]</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> 字段列表 </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表B ...;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="子查询" tabindex="-1">子查询 <a class="header-anchor" href="#子查询" aria-label="Permalink to &quot;子查询&quot;">​</a></h3><h4 id="概念-1" tabindex="-1">概念 <a class="header-anchor" href="#概念-1" aria-label="Permalink to &quot;概念&quot;">​</a></h4><p>SQL 语句中嵌套 SELECT 语句，称为嵌套查询，又称子查询</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> t1 </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> column1 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> t2);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> t1 </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> column1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> column1 </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> t2);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><table><thead><tr><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>标量子查询</td><td>子查询结果为单个值</td></tr><tr><td>列子查询</td><td>子查询结果为一列</td></tr><tr><td>行子查询</td><td>子查询结果为一行</td></tr><tr><td>表子查询</td><td>子查询结果为多行多列</td></tr></tbody></table><h4 id="标量子查询" tabindex="-1">标量子查询 <a class="header-anchor" href="#标量子查询" aria-label="Permalink to &quot;标量子查询&quot;">​</a></h4><p>子查询返回的结果只有一个，类型可能是（数字、字符串、日期等）</p><p>常用操作符： = &lt;&gt; &gt; &gt;= &lt; &lt;=</p><h5 id="案例-12" tabindex="-1">案例： <a class="header-anchor" href="#案例-12" aria-label="Permalink to &quot;案例：&quot;">​</a></h5><p>查询销售部的所有员工信息</p><p>拆解为两个语句：</p><p>a: 查询销售部部门 ID</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> id </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> dept </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;销售部&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> id </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> dept </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;销售部&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>b:根据销售部部门 ID，查询员工信息</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> dept_id </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> xxx;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> dept_id </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> xxx;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>合并起来就是：</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> dept_id </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> id </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> dept </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;销售部&#39;</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> dept_id </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> id </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> dept </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;销售部&#39;</span><span style="color:#24292E;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="列子查询" tabindex="-1">列子查询 <a class="header-anchor" href="#列子查询" aria-label="Permalink to &quot;列子查询&quot;">​</a></h4><p>常用操作符: IN 、NOT IN 、 ANY、SOME、ALL</p><table><thead><tr><th>操作符</th><th>说明</th></tr></thead><tbody><tr><td>IN</td><td>在指定的集合范围之内，多选一</td></tr><tr><td>NOT IN</td><td>不在指定的集合范围之内</td></tr><tr><td>ANY</td><td>子查询返回列表中，有任意一个满足即可</td></tr><tr><td>SOME</td><td>和 ANY 等同，使用 SOME 的地方都可以用 ANY</td></tr><tr><td>ALL</td><td>子查询返回列表的所有值都必须满足</td></tr></tbody></table><h5 id="案例-13" tabindex="-1">案例： <a class="header-anchor" href="#案例-13" aria-label="Permalink to &quot;案例：&quot;">​</a></h5><p>查询 销售部 和 市场部 的所有员工信息</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> dept_in (</span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> id </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> dept </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;销售部&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">or</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;市场部&#39;</span><span style="color:#E1E4E8;">;);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> dept_in (</span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> id </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> dept </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;销售部&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">or</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;市场部&#39;</span><span style="color:#24292E;">;);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>查询比财务部所有人工资都高的员工信息</p><p>a.查询所有财务部的人员工资</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> id </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> dept </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;财务部&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> id </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> dept </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;财务部&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> salary </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> dept_id </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> id </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> dept </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;财务部&#39;</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> salary </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> dept_id </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> id </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> dept </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;财务部&#39;</span><span style="color:#24292E;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>b.比财务部所有人工资都高的员工信息</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> salary </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> all ( </span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> salary </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> dept_id </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> id </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> dept </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;财务部&#39;</span><span style="color:#E1E4E8;">) );</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> salary </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> all ( </span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> salary </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> dept_id </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> id </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> dept </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;财务部&#39;</span><span style="color:#24292E;">) );</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="行子查询" tabindex="-1">行子查询 <a class="header-anchor" href="#行子查询" aria-label="Permalink to &quot;行子查询&quot;">​</a></h4><p>返回结果是一行数据</p><p>常用操作符： =、&lt;&gt;、IN、NOT IN</p><h5 id="案例-14" tabindex="-1">案例: <a class="header-anchor" href="#案例-14" aria-label="Permalink to &quot;案例:&quot;">​</a></h5><p>查询与张无忌的薪资及直属领导相同的员工信息</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> salary, managerid </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;张无忌&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> salary, managerid </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;张无忌&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> (sarary, managerid) </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> salary, managerid </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;张无忌&#39;</span><span style="color:#E1E4E8;">;);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> (sarary, managerid) </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> salary, managerid </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;张无忌&#39;</span><span style="color:#24292E;">;);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="表子查询" tabindex="-1">表子查询 <a class="header-anchor" href="#表子查询" aria-label="Permalink to &quot;表子查询&quot;">​</a></h4><p>返回结果是多行多列，常用操作符：IN</p><h5 id="案例-15" tabindex="-1">案例: <a class="header-anchor" href="#案例-15" aria-label="Permalink to &quot;案例:&quot;">​</a></h5><p>1.查询和 鹿杖客 宋远桥 职位和薪资相同的员工信息</p><p>a.先查询 鹿杖客 宋远桥 的 职位和薪资</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> job, salary </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;鹿杖客&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">or</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;宋远桥&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> job, salary </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;鹿杖客&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">or</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;宋远桥&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>b.查询和 鹿杖客 宋远桥 职位和薪资相同的员工信息</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> (job, salary) </span><span style="color:#F97583;">in</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> job, salary </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;鹿杖客&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">or</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;宋远桥&#39;</span><span style="color:#E1E4E8;">;)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> (job, salary) </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> job, salary </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;鹿杖客&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">or</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;宋远桥&#39;</span><span style="color:#24292E;">;)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>2.查询入职时间是 2006-10-1 之后的员工信息，及其部门信息</p><p>a.先查询入职时间是 2006-10-1 之后的员工信息</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> entrydate </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;2006-10-1&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> entrydate </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;2006-10-1&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>然后把这里的结果作为一张临时表，去和部门表做联表查询</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> e.</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">, d.</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> entrydate </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;2006-10-1&#39;</span><span style="color:#E1E4E8;">) e </span><span style="color:#F97583;">LEFT JOIN</span><span style="color:#E1E4E8;"> dept d </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> e.</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">, d.</span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> entrydate </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;2006-10-1&#39;</span><span style="color:#24292E;">) e </span><span style="color:#D73A49;">LEFT JOIN</span><span style="color:#24292E;"> dept d </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">id</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="多表查询案例" tabindex="-1">多表查询案例 <a class="header-anchor" href="#多表查询案例" aria-label="Permalink to &quot;多表查询案例&quot;">​</a></h4><h5 id="_1-查询员工姓名、年龄、职位、部门-隐式内连接" tabindex="-1">1.查询员工姓名、年龄、职位、部门(隐式内连接) <a class="header-anchor" href="#_1-查询员工姓名、年龄、职位、部门-隐式内连接" aria-label="Permalink to &quot;1.查询员工姓名、年龄、职位、部门(隐式内连接)&quot;">​</a></h5><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">age</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">job</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp e, dept d </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">age</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">job</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp e, dept d </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">id</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="_2-查询年龄小于-30-岁的员工姓名、年龄、职位、部门信息-显示内连接" tabindex="-1">2.查询年龄小于 30 岁的员工姓名、年龄、职位、部门信息（显示内连接） <a class="header-anchor" href="#_2-查询年龄小于-30-岁的员工姓名、年龄、职位、部门信息-显示内连接" aria-label="Permalink to &quot;2.查询年龄小于 30 岁的员工姓名、年龄、职位、部门信息（显示内连接）&quot;">​</a></h5><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">age</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">job</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp e </span><span style="color:#F97583;">inner JOIN</span><span style="color:#E1E4E8;"> dept d </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">age</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">30</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">age</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">job</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp e </span><span style="color:#D73A49;">inner JOIN</span><span style="color:#24292E;"> dept d </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">age</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">30</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="_3-查询拥有员工的部门-id、部门名称" tabindex="-1">3.查询拥有员工的部门 ID、部门名称 <a class="header-anchor" href="#_3-查询拥有员工的部门-id、部门名称" aria-label="Permalink to &quot;3.查询拥有员工的部门 ID、部门名称&quot;">​</a></h5><p>有一些部门下面没有员工的，不需要返回</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT distinct</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp e, dept d </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT distinct</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">id</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp e, dept d </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">id</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="_4-查询所有年龄大于-40-的员工-及归属的部门名称-如果员工没分配部门也要展示" tabindex="-1">4.查询所有年龄大于 40 的员工，及归属的部门名称，如果员工没分配部门也要展示 <a class="header-anchor" href="#_4-查询所有年龄大于-40-的员工-及归属的部门名称-如果员工没分配部门也要展示" aria-label="Permalink to &quot;4.查询所有年龄大于 40 的员工，及归属的部门名称，如果员工没分配部门也要展示&quot;">​</a></h5><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> e.</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp e </span><span style="color:#F97583;">LEFT JOIN</span><span style="color:#E1E4E8;"> dept d </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> age </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">40</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> e.</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp e </span><span style="color:#D73A49;">LEFT JOIN</span><span style="color:#24292E;"> dept d </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> age </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">40</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="_5-查询所有员工的工资等级" tabindex="-1">5.查询所有员工的工资等级 <a class="header-anchor" href="#_5-查询所有员工的工资等级" aria-label="Permalink to &quot;5.查询所有员工的工资等级&quot;">​</a></h5><p>表 emp 、salarygrade ，这两张表没有外键关联</p><p>salarygrade 表中根据最低薪资和最高薪资的区间来划分等级</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">s</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">grade</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp e , salarygrade s </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">salary</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">between</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">s</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">lowestsarary</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">and</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">s</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">highestsalary</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">s</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">grade</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp e , salarygrade s </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">salary</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">between</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">s</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">lowestsarary</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">and</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">s</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">highestsalary</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="_6-查询研发部所有员工信息及工资等级" tabindex="-1">6.查询研发部所有员工信息及工资等级 <a class="header-anchor" href="#_6-查询研发部所有员工信息及工资等级" aria-label="Permalink to &quot;6.查询研发部所有员工信息及工资等级&quot;">​</a></h5><p>三张表：员工表、部门表、工资等级表</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> e.</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">s</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">grade</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp e, dept d, salarygrade s </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">and</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">salary</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">between</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">s</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">lowestsarary</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">and</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">s</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">highestsalary</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">and</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;研发部&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> e.</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">s</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">grade</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp e, dept d, salarygrade s </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">and</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">salary</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">between</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">s</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">lowestsarary</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">and</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">s</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">highestsalary</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">and</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;研发部&#39;</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="_7-查询低于本部门平均工资的员工信息" tabindex="-1">7.查询低于本部门平均工资的员工信息 <a class="header-anchor" href="#_7-查询低于本部门平均工资的员工信息" aria-label="Permalink to &quot;7.查询低于本部门平均工资的员工信息&quot;">​</a></h5><p>a. 查询指定部门的平均薪资</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">avg</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">e1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">salary</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp e1 </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">avg</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">e1</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">salary</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp e1 </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e1</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>b.查询低于本部门平均工资的员工信息（自连接）</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp e2 </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">salary</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">avg</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">e1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">salary</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp e1 </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp e2 </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e2</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">salary</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">avg</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">e1</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">salary</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp e1 </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e1</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e2</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>再把当前部门的平均薪资也返回一下</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">, (</span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">avg</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">e1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">salary</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp e1 </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;">) </span><span style="color:#9ECBFF;">&#39;平均薪资&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp e2 </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">salary</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">avg</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">e1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">salary</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp e1 </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e1</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e2</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">, (</span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">avg</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">e1</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">salary</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp e1 </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e1</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e2</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;">) </span><span style="color:#032F62;">&#39;平均薪资&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp e2 </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e2</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">salary</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">avg</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">e1</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">salary</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp e1 </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e1</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e2</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="_8-查询所有部门信息-并统计部门的员工人数" tabindex="-1">8. 查询所有部门信息，并统计部门的员工人数 <a class="header-anchor" href="#_8-查询所有部门信息-并统计部门的员工人数" aria-label="Permalink to &quot;8. 查询所有部门信息，并统计部门的员工人数&quot;">​</a></h5><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;">, (</span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">COUNT</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> emp e </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">e</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">dept_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">d</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;">) </span><span style="color:#9ECBFF;">&#39;人数&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> dept d;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">id</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">name</span><span style="color:#24292E;">, (</span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">COUNT</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> emp e </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">e</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">dept_id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">d</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">id</span><span style="color:#24292E;">) </span><span style="color:#032F62;">&#39;人数&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> dept d;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="事务" tabindex="-1">事务 <a class="header-anchor" href="#事务" aria-label="Permalink to &quot;事务&quot;">​</a></h2><p>事务是一组操作的集合，是一个不可分割的工作单位，事务会把所有操作作为一个整体向系统提交或撤销操作请求，这些操作要么同时成功要么同时失败。</p><p>比如张三给李四转账 1000：</p><ul><li>查询张三账户余额</li><li>张三余额-1000</li><li>李四余额+1000</li></ul><p>只要有一步抛异常，就会发生回滚</p><h3 id="事务操作" tabindex="-1">事务操作 <a class="header-anchor" href="#事务操作" aria-label="Permalink to &quot;事务操作&quot;">​</a></h3><h4 id="查看-设置事务提交方式" tabindex="-1">查看/设置事务提交方式 <a class="header-anchor" href="#查看-设置事务提交方式" aria-label="Permalink to &quot;查看/设置事务提交方式&quot;">​</a></h4><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> @@autocommit;</span></span>
<span class="line"><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> @@autocommit </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> @@autocommit;</span></span>
<span class="line"><span style="color:#D73A49;">SET</span><span style="color:#24292E;"> @@autocommit </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="开启事务" tabindex="-1">开启事务 <a class="header-anchor" href="#开启事务" aria-label="Permalink to &quot;开启事务&quot;">​</a></h4><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">START TRANSACTION</span><span style="color:#E1E4E8;"> 或 BIGIN;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">START TRANSACTION</span><span style="color:#24292E;"> 或 BIGIN;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="提交事务" tabindex="-1">提交事务 <a class="header-anchor" href="#提交事务" aria-label="Permalink to &quot;提交事务&quot;">​</a></h4><div class="language-SQL vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">SQL</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">COMMIT</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">COMMIT</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="回滚事务" tabindex="-1">回滚事务 <a class="header-anchor" href="#回滚事务" aria-label="Permalink to &quot;回滚事务&quot;">​</a></h4><div class="language-SQL vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">SQL</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">ROLLBACK</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">ROLLBACK</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="事务四大特性" tabindex="-1">事务四大特性 <a class="header-anchor" href="#事务四大特性" aria-label="Permalink to &quot;事务四大特性&quot;">​</a></h3><h4 id="原子性" tabindex="-1">原子性 <a class="header-anchor" href="#原子性" aria-label="Permalink to &quot;原子性&quot;">​</a></h4><p>事务是不可分割的最小操作单元，要么全部成功、要么全部失败</p><h4 id="一致性" tabindex="-1">一致性 <a class="header-anchor" href="#一致性" aria-label="Permalink to &quot;一致性&quot;">​</a></h4><p>事务完成时，必须使所有的数据都保持一致的状态</p><h4 id="隔离性" tabindex="-1">隔离性 <a class="header-anchor" href="#隔离性" aria-label="Permalink to &quot;隔离性&quot;">​</a></h4><p>数据库提供的隔离机制，保证事务在不受外部并发操作影响的独立环境运行</p><h4 id="持久性" tabindex="-1">持久性 <a class="header-anchor" href="#持久性" aria-label="Permalink to &quot;持久性&quot;">​</a></h4><p>事务一旦提交或回滚，它对数据库中的数据改变是永久的</p><h3 id="并发事务问题" tabindex="-1">并发事务问题 <a class="header-anchor" href="#并发事务问题" aria-label="Permalink to &quot;并发事务问题&quot;">​</a></h3><p>一个线程里的事务操作受到了另一个线程的影响</p><table><thead><tr><th>问题</th><th>描述</th></tr></thead><tbody><tr><td>脏读</td><td>一个事务读到另一个事务还没有提交的数据</td></tr><tr><td>不可重复读</td><td>一个事务先后读取同一条记录，但两次读取的数据不同</td></tr><tr><td>幻读</td><td>一个事务按照条件查询数据时，没有对应的数据行，但在插入数据时，又发现这行数据已经存在，好像出现了“幻影”</td></tr></tbody></table><h3 id="事务隔离级别" tabindex="-1">事务隔离级别 <a class="header-anchor" href="#事务隔离级别" aria-label="Permalink to &quot;事务隔离级别&quot;">​</a></h3><table><thead><tr><th>隔离级别</th><th>脏读</th><th>不可重复读</th><th>幻读</th></tr></thead><tbody><tr><td>Read uncommitted</td><td>√</td><td>√</td><td>√</td></tr><tr><td>Read committed</td><td>×</td><td>√</td><td>√</td></tr><tr><td>Repeatable Read(默认)</td><td>×</td><td>×</td><td>√</td></tr><tr><td>Serializable(串行化)</td><td>×</td><td>×</td><td>×</td></tr></tbody></table><h4 id="查看事务隔离级别" tabindex="-1">查看事务隔离级别 <a class="header-anchor" href="#查看事务隔离级别" aria-label="Permalink to &quot;查看事务隔离级别&quot;">​</a></h4><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> @@TRANSACTION_ISOLATION</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> @@TRANSACTION_ISOLATION</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="设置事务隔离级别" tabindex="-1">设置事务隔离级别 <a class="header-anchor" href="#设置事务隔离级别" aria-label="Permalink to &quot;设置事务隔离级别&quot;">​</a></h4><p>SESSION 只针对当前客户端窗口有效， GLOBAL 针对所有客户端窗口有效</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> [SESSION | GLOBAL] </span><span style="color:#F97583;">TRANSACTION</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">ISOLATION</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">LEVEL</span><span style="color:#E1E4E8;"> {</span><span style="color:#F97583;">READ</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">UNCOMMITTED</span><span style="color:#E1E4E8;"> | </span><span style="color:#F97583;">READ</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">COMMITTED</span><span style="color:#E1E4E8;"> | </span><span style="color:#F97583;">REPEATABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">READ</span><span style="color:#E1E4E8;"> | </span><span style="color:#F97583;">SERIALIZABLE</span><span style="color:#E1E4E8;"> }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SET</span><span style="color:#24292E;"> [SESSION | GLOBAL] </span><span style="color:#D73A49;">TRANSACTION</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ISOLATION</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">LEVEL</span><span style="color:#24292E;"> {</span><span style="color:#D73A49;">READ</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">UNCOMMITTED</span><span style="color:#24292E;"> | </span><span style="color:#D73A49;">READ</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">COMMITTED</span><span style="color:#24292E;"> | </span><span style="color:#D73A49;">REPEATABLE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">READ</span><span style="color:#24292E;"> | </span><span style="color:#D73A49;">SERIALIZABLE</span><span style="color:#24292E;"> }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div></div></main><footer class="VPDocFooter" data-v-e0de392c data-v-7a923448><!--[--><!--]--><div class="edit-info" data-v-7a923448><!----><div class="last-updated" data-v-7a923448><p class="VPLastUpdated" data-v-7a923448 data-v-691b0cd1>更新时间: <time datetime="2023-04-04T14:33:37.000Z" data-v-691b0cd1></time></p></div></div><nav class="prev-next" data-v-7a923448><div class="pager" data-v-7a923448><a class="pager-link prev" href="/doc/backend/Java/999.%E7%BB%83%E4%B9%A0.html" data-v-7a923448><span class="desc" data-v-7a923448>👈瞧瞧上一篇</span><span class="title" data-v-7a923448>999.练习</span></a></div><div class="pager" data-v-7a923448><a class="pager-link next" href="/doc/backend/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/2.%E8%BF%9B%E9%98%B6.html" data-v-7a923448><span class="desc" data-v-7a923448>瞅瞅下一篇👉</span><span class="title" data-v-7a923448>2.进阶</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-2b4337fe data-v-8110168c><div class="container" data-v-8110168c><p class="message" data-v-8110168c>每天进步一丢丢</p><p class="copyright" data-v-8110168c>Copyright © 2023 PuffMeow</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"algorithm_rust篇_1.栈.md\":\"54753f05\",\"rust_rust基础_5.常见集合.md\":\"f395bca5\",\"rust_rust基础_4.枚举.md\":\"2ae3af8b\",\"rust_rust基础_7.特征.md\":\"f30de46b\",\"rust_rust基础_6.错误处理.md\":\"f3be2d38\",\"rust_rust基础_8.生命周期.md\":\"ab16c3dd\",\"rust_rust实战_javascript运行时.md\":\"9fcaab65\",\"rust_rust实战_编写node.js原生扩展.md\":\"fb4e2825\",\"rust_rust异步_2.tokio.md\":\"9ae4bc97\",\"rust_心得_rust在前端都干了些啥.md\":\"3cf78487\",\"rust_心得_用rust写了个node扩展.md\":\"828681c0\",\"rust_源码分析_deno.md\":\"43e2df30\",\"rust_rust实战_天气命令行工具.md\":\"390c733c\",\"tools_git_常用命令.md\":\"5dffedc7\",\"rust_rust基础_9.特征.md\":\"42a5f26a\",\"tools_index.md\":\"f00033cb\",\"rust_index.md\":\"9e3edce0\",\"rust_rust异步_1.异步基础.md\":\"97c56383\",\"rust_心得_我为什么学 rust.md\":\"21ddd4ec\",\"backend_node.js_bffdemo.md\":\"28062cfb\",\"backend_node.js_情侣头像爬虫.md\":\"69bf47c5\",\"rust_读书笔记_rust深入浅出.md\":\"1cf71f95\",\"backend_index.md\":\"0815c6c4\",\"backend_中间件_redis.md\":\"b123d593\",\"backend_node.js_nest实战一.md\":\"91b1965f\",\"backend_微服务_微服务入门.md\":\"2de375f6\",\"algorithm_rust篇_3.双端队列.md\":\"2fb09c9b\",\"frontend_typescript_装饰器.md\":\"6f50ed8f\",\"algorithm_rust篇_2.队列.md\":\"519350a2\",\"frontend_react_状态管理库valtio.md\":\"7edbfc8e\",\"frontend_vue_响应式原理.md\":\"ad31c758\",\"algorithm_rust篇_5.用链表实现栈.md\":\"d23312f4\",\"system_linux_常用操作.md\":\"05693727\",\"frontend_index.md\":\"bb116c29\",\"rust_rust基础_2.所有权.md\":\"d17a38be\",\"frontend_javascript_2.js进阶.md\":\"87b8effc\",\"note_index.md\":\"0aa4c635\",\"rust_rust基础_10.智能指针.md\":\"47062fb0\",\"rust_rust基础_11.闭包.md\":\"87b2df88\",\"system_index.md\":\"cd8d9dc8\",\"algorithm_index.md\":\"145c0faa\",\"backend_go_1.环境安装.md\":\"a43f8146\",\"note_投资学习_学会定投.md\":\"3711efe7\",\"backend_go_99.微服务.md\":\"185e42ab\",\"frontend_javascript_1.js基础.md\":\"eef3c34e\",\"backend_java_1.面向对象.md\":\"a2de4e73\",\"backend_java_2.常用api.md\":\"8c6344a7\",\"rust_rust基础_13.字符串.md\":\"675c4c11\",\"algorithm_rust篇_6.链表实现容器.md\":\"b8de4dfa\",\"backend_mysql数据库_3.sql必知必会读书笔记.md\":\"95cbdccf\",\"frontend_javascript_4.动画.md\":\"86a1f8cf\",\"rust_rust基础_3.结构体(struct).md\":\"f70ac552\",\"frontend_javascript_3.canvas.md\":\"0d439c74\",\"backend_java_999.练习.md\":\"28830735\",\"algorithm_树_二叉树基础.md\":\"c4da1edd\",\"rust_rust实战_json操作.md\":\"9ceb1bbf\",\"backend_mysql数据库_2.进阶.md\":\"4b857624\",\"frontend_react_minireact实现.md\":\"a310b45d\",\"rust_rust实战_todo应用.md\":\"2d099f4f\",\"frontend_react_usesyncexternalstore.md\":\"df13e98e\",\"backend_mysql数据库_1.基础.md\":\"a32b57bc\",\"algorithm_rust篇_4.链表.md\":\"2323aa0c\",\"rust_rust基础_1.常用crates.md\":\"bcd40672\",\"frontend_react_1.性能优化.md\":\"66a4f0fe\",\"backend_应用部署_1.传统部署.md\":\"27c0c374\",\"network_index.md\":\"7a4f37c9\",\"frontend_webassembly_从认识wasm到rust实践.md\":\"82c3b47e\",\"index.md\":\"369c13d0\",\"rust_rust基础_12.迭代器.md\":\"157be9ea\",\"backend_应用部署_2.docker部署.md\":\"d2de7fdc\",\"backend_node.js_100.express博客实战.md\":\"333f0346\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"PuffMeow\",\"description\":\"PuffMeow\",\"base\":\"/doc/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"sidebar\":{\"/frontend/\":[{\"text\":\"React\",\"collapsible\":true,\"items\":[{\"text\":\"1.性能优化\",\"link\":\"/frontend/React/1.性能优化\"},{\"text\":\"MiniReact实现\",\"link\":\"/frontend/React/MiniReact实现\"},{\"text\":\"useSyncExternalStore\",\"link\":\"/frontend/React/useSyncExternalStore\"},{\"text\":\"状态管理库valtio\",\"link\":\"/frontend/React/状态管理库valtio\"}]},{\"text\":\"TypeScript\",\"collapsible\":true,\"items\":[{\"text\":\"装饰器\",\"link\":\"/frontend/TypeScript/装饰器\"}]},{\"text\":\"Vue\",\"collapsible\":true,\"items\":[{\"text\":\"响应式原理\",\"link\":\"/frontend/Vue/响应式原理\"}]},{\"text\":\"WebAssembly\",\"collapsible\":true,\"items\":[{\"text\":\"从认识WASM到Rust实践\",\"link\":\"/frontend/WebAssembly/从认识WASM到Rust实践\"}]},{\"text\":\"javascript\",\"collapsible\":true,\"items\":[{\"text\":\"1.JS基础\",\"link\":\"/frontend/javascript/1.JS基础\"},{\"text\":\"2.JS进阶\",\"link\":\"/frontend/javascript/2.JS进阶\"},{\"text\":\"3.Canvas\",\"link\":\"/frontend/javascript/3.Canvas\"},{\"text\":\"4.动画\",\"link\":\"/frontend/javascript/4.动画\"}]}],\"/backend/\":[{\"text\":\"Go\",\"collapsible\":true,\"items\":[{\"text\":\"1.环境安装\",\"link\":\"/backend/Go/1.环境安装\"},{\"text\":\"99.微服务\",\"link\":\"/backend/Go/99.微服务\"}]},{\"text\":\"Java\",\"collapsible\":true,\"items\":[{\"text\":\"1.面向对象\",\"link\":\"/backend/Java/1.面向对象\"},{\"text\":\"2.常用API\",\"link\":\"/backend/Java/2.常用API\"},{\"text\":\"999.练习\",\"link\":\"/backend/Java/999.练习\"}]},{\"text\":\"MySQL数据库\",\"collapsible\":true,\"items\":[{\"text\":\"1.基础\",\"link\":\"/backend/MySQL数据库/1.基础\"},{\"text\":\"2.进阶\",\"link\":\"/backend/MySQL数据库/2.进阶\"},{\"text\":\"3.SQL必知必会读书笔记\",\"link\":\"/backend/MySQL数据库/3.SQL必知必会读书笔记\"}]},{\"text\":\"Node.js\",\"collapsible\":true,\"items\":[{\"text\":\"100.Express博客实战\",\"link\":\"/backend/Node.js/100.Express博客实战\"},{\"text\":\"BFFDemo\",\"link\":\"/backend/Node.js/BFFDemo\"},{\"text\":\"Nest实战一\",\"link\":\"/backend/Node.js/Nest实战一\"},{\"text\":\"情侣头像爬虫\",\"link\":\"/backend/Node.js/情侣头像爬虫\"}]},{\"text\":\"中间件\",\"collapsible\":true,\"items\":[{\"text\":\"Redis\",\"link\":\"/backend/中间件/Redis\"}]},{\"text\":\"应用部署\",\"collapsible\":true,\"items\":[{\"text\":\"1.传统部署\",\"link\":\"/backend/应用部署/1.传统部署\"},{\"text\":\"2.docker部署\",\"link\":\"/backend/应用部署/2.docker部署\"}]},{\"text\":\"微服务\",\"collapsible\":true,\"items\":[{\"text\":\"微服务入门\",\"link\":\"/backend/微服务/微服务入门\"}]}],\"/rust/\":[{\"text\":\"Rust基础\",\"collapsible\":true,\"items\":[{\"text\":\"1.常用crates\",\"link\":\"/rust/Rust基础/1.常用crates\"},{\"text\":\"2.所有权\",\"link\":\"/rust/Rust基础/2.所有权\"},{\"text\":\"3.结构体(Struct)\",\"link\":\"/rust/Rust基础/3.结构体(Struct)\"},{\"text\":\"4.枚举\",\"link\":\"/rust/Rust基础/4.枚举\"},{\"text\":\"5.常见集合\",\"link\":\"/rust/Rust基础/5.常见集合\"},{\"text\":\"6.错误处理\",\"link\":\"/rust/Rust基础/6.错误处理\"},{\"text\":\"7.特征\",\"link\":\"/rust/Rust基础/7.特征\"},{\"text\":\"8.生命周期\",\"link\":\"/rust/Rust基础/8.生命周期\"},{\"text\":\"9.特征\",\"link\":\"/rust/Rust基础/9.特征\"},{\"text\":\"10.智能指针\",\"link\":\"/rust/Rust基础/10.智能指针\"},{\"text\":\"11.闭包\",\"link\":\"/rust/Rust基础/11.闭包\"},{\"text\":\"12.迭代器\",\"link\":\"/rust/Rust基础/12.迭代器\"},{\"text\":\"13.字符串\",\"link\":\"/rust/Rust基础/13.字符串\"}]},{\"text\":\"Rust实战\",\"collapsible\":true,\"items\":[{\"text\":\"JavaScript运行时\",\"link\":\"/rust/Rust实战/JavaScript运行时\"},{\"text\":\"json操作\",\"link\":\"/rust/Rust实战/json操作\"},{\"text\":\"todo应用\",\"link\":\"/rust/Rust实战/todo应用\"},{\"text\":\"天气命令行工具\",\"link\":\"/rust/Rust实战/天气命令行工具\"},{\"text\":\"编写Node.js原生扩展\",\"link\":\"/rust/Rust实战/编写Node.js原生扩展\"}]},{\"text\":\"Rust异步\",\"collapsible\":true,\"items\":[{\"text\":\"1.异步基础\",\"link\":\"/rust/Rust异步/1.异步基础\"},{\"text\":\"2.Tokio\",\"link\":\"/rust/Rust异步/2.Tokio\"}]},{\"text\":\"心得\",\"collapsible\":true,\"items\":[{\"text\":\"Rust在前端都干了些啥\",\"link\":\"/rust/心得/Rust在前端都干了些啥\"},{\"text\":\"我为什么学 Rust\",\"link\":\"/rust/心得/我为什么学 Rust\"},{\"text\":\"用Rust写了个Node扩展\",\"link\":\"/rust/心得/用Rust写了个Node扩展\"}]},{\"text\":\"源码分析\",\"collapsible\":true,\"items\":[{\"text\":\"deno\",\"link\":\"/rust/源码分析/deno\"}]},{\"text\":\"读书笔记\",\"collapsible\":true,\"items\":[{\"text\":\"Rust深入浅出\",\"link\":\"/rust/读书笔记/Rust深入浅出\"}]}],\"/algorithm/\":[{\"text\":\"Rust篇\",\"collapsible\":true,\"items\":[{\"text\":\"1.栈\",\"link\":\"/algorithm/Rust篇/1.栈\"},{\"text\":\"2.队列\",\"link\":\"/algorithm/Rust篇/2.队列\"},{\"text\":\"3.双端队列\",\"link\":\"/algorithm/Rust篇/3.双端队列\"},{\"text\":\"4.链表\",\"link\":\"/algorithm/Rust篇/4.链表\"},{\"text\":\"5.用链表实现栈\",\"link\":\"/algorithm/Rust篇/5.用链表实现栈\"},{\"text\":\"6.链表实现容器\",\"link\":\"/algorithm/Rust篇/6.链表实现容器\"}]},{\"text\":\"树\",\"collapsible\":true,\"items\":[{\"text\":\"二叉树基础\",\"link\":\"/algorithm/树/二叉树基础\"}]}],\"/network/\":[],\"/system/\":[{\"text\":\"Linux\",\"collapsible\":true,\"items\":[{\"text\":\"常用操作\",\"link\":\"/system/Linux/常用操作\"}]}],\"/tools/\":[{\"text\":\"Git\",\"collapsible\":true,\"items\":[{\"text\":\"常用命令\",\"link\":\"/tools/Git/常用命令\"}]}],\"/note/\":[{\"text\":\"投资学习\",\"collapsible\":true,\"items\":[{\"text\":\"学会定投\",\"link\":\"/note/投资学习/学会定投\"}]}]},\"nav\":[{\"text\":\"前端\",\"link\":\"/frontend/\"},{\"text\":\"服务端\",\"link\":\"/backend/\"},{\"text\":\"Rust\",\"link\":\"/rust/\"},{\"text\":\"计算机基础\",\"items\":[{\"text\":\"数据结构/算法\",\"link\":\"/algorithm/\"},{\"text\":\"计算机网络\",\"link\":\"/network/\"},{\"text\":\"操作系统\",\"link\":\"/system/\"},{\"text\":\"开发工具\",\"link\":\"/tools/\"}]},{\"text\":\"杂记\",\"link\":\"/note/\"}],\"lastUpdatedText\":\"更新时间\",\"siteTitle\":\"学习使我快乐\",\"footer\":{\"message\":\"每天进步一丢丢\",\"copyright\":\"Copyright © 2023 PuffMeow\"},\"docFooter\":{\"prev\":\"👈瞧瞧上一篇\",\"next\":\"瞅瞅下一篇👉\"},\"logo\":\"https://i.niupic.com/images/2023/01/06/aeYt.png\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/PuffMeow/doc\"}]},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>